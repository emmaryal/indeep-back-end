{"version":3,"sources":["firebase.js","functions/auth.js","pages/auth/Login.js","pages/auth/Register.js","images/record.jpeg","components/cards/ProductCard.js","functions/product.js","components/cards/LoadingCard.js","components/Home/BestSellers.js","components/cards/Jumbotron.js","components/Home/NewArrivals.js","functions/category.js","components/category/CategoryList.js","functions/sub.js","components/sub/SubList.js","pages/Home.js","components/forms/Search.js","components/nav/Header.js","pages/auth/RegisterComplete.js","pages/auth/ForgotPassword.js","components/nav/UserNav.js","functions/user.js","components/cards/ShowPaymentInfo.js","components/order/Invoice.js","pages/user/History.js","components/routes/LoadingToRedirect.js","components/routes/UserRoute.js","components/routes/AdminRoute.js","pages/user/Password.js","pages/user/Wishlist.js","components/nav/AdminNav.js","functions/admin.js","components/order/Orders.js","pages/admin/AdminDashboard.js","components/forms/CategoryForm.js","components/forms/LocalSearch.js","pages/admin/category/CategoryCreate.js","pages/admin/category/CategoryUpdate.js","components/forms/ProductCreateForm.js","components/forms/FileUpload.js","pages/admin/product/ProductCreate.js","components/cards/AdminProductCard.js","pages/admin/product/AllProducts.js","components/forms/ProductUpdateForm.js","pages/admin/product/ProductUpdate.js","components/cards/ProductListItems.js","components/cards/SingleProduct.js","pages/Product.js","pages/category/CategoryHome.js","pages/Shop.js","components/cards/ProductCardInCheckout.js","pages/Cart.js","pages/Checkout.js","components/StripeCheckout.js","functions/stripe.js","pages/Payment.js","components/drawer/SideDrawer.js","App.js","reportWebVitals.js","reducers/searchReducer.js","reducers/cartReducer.js","reducers/index.js","reducers/userReducer.js","reducers/drawerReducer.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","googleAuthProvider","GoogleAuthProvider","createOrUpdateUser","authtoken","a","axios","post","process","headers","currentUser","currentAdmin","Login","history","useState","email","setEmail","password","setPassword","loading","setLoading","user","useSelector","state","useEffect","location","token","push","dispatch","useDispatch","roleBasedRedirect","res","intended","from","data","role","handleSubmit","e","preventDefault","signInWithEmailAndPassword","result","console","log","getIdTokenResult","idTokenResult","then","type","payload","name","_id","catch","err","toast","error","message","googleLogin","signInWithPopup","id","className","onSubmit","value","onChange","target","placeholder","autoFocus","onClick","block","shape","icon","MailOutlined","size","disabled","length","GoogleOutlined","to","Register","config","url","handleCodeInApp","sendSignInLinkToEmail","success","window","localStorage","setItem","Meta","Card","ProductCard","product","images","title","slug","description","artist","label","price","tooltip","setTooltip","cart","cover","src","record","style","height","objectFit","actions","EyeOutlined","getItem","JSON","parse","count","unique","_","uniqWith","isEqual","stringify","quantity","ShoppingCartOutlined","createProduct","getProductsByCount","get","removeProduct","delete","getProduct","updateProduct","put","getProducts","sort","order","page","getProductsCount","listRelated","productId","fetchProductsByFilter","arg","LoadingCard","totalCards","i","active","cards","BestSellers","products","setProducts","setPage","productsCount","setProductsCount","loadAllProducts","map","current","total","Jumbotron","text","options","strings","autoStart","loop","NewArrivals","getCategories","getCategory","removeCategory","updateCategory","category","createCategory","CategoryList","categories","setCategories","c","getSubs","SubList","subs","setSubs","s","Home","font","Search","search","useHistory","SearchOutlined","SubMenu","Menu","Item","Header","setCurrent","key","selectedKeys","mode","HomeOutlined","ShoppingOutlined","offset","UserAddOutlined","UserOutlined","SettingOutlined","split","LogoutOutlined","signOut","RegisterComplete","signInWithEmailLink","href","emailVerified","removeItem","updatePassword","ForgotPassword","sendPasswordResetEmail","UserNav","userCart","getUserCart","emptyUserCart","saveUserAddress","address","createOrder","stripeResponse","getUserOrders","getWishlist","removeFromWishlist","addToWishlist","ShowPaymentInfo","showStatus","paymentIntent","amount","toLocaleString","currency","toUpperCase","payment_method_types","status","Date","created","orderStatus","styles","StyleSheet","create","body","paddingTop","paddingBottom","paddingHorizontal","fontSize","textAlign","author","marginBottom","subtitle","margin","image","marginVertical","marginHorizontal","header","color","footer","padding","pageNumber","position","bottom","left","right","Invoice","fixed","getContent","x","History","orders","setOrders","loadUserOrders","showOrderInTable","scope","p","showDownloadLink","document","fileName","LoadingToRedirect","setCount","interval","setInterval","currentCount","clearInterval","UserRoute","children","rest","AdminRoute","ok","setOk","Password","Wishlist","wishlist","setWishlist","loadWishlist","DeleteOutlined","AdminNav","getOrders","changeStatus","orderId","Orders","handleStatusChange","defaultValue","AdminDashboard","loadOrders","CategoryForm","setName","required","LocalSearch","keyword","setKeyword","toLowerCase","CategoryCreate","loadCategories","handleRemove","confirm","response","filter","includes","searched","EditOutlined","CategoryUpdate","match","loadCategory","params","ProductCreateForm","Select","Option","handleChange","values","setValues","handleCategoryChange","subOptions","showSub","format","mediaCondition","sleeveCondition","mediaConditions","sleeveConditions","formats","catno","b","FileUpload","public_id","filteredImages","item","cursor","multiple","hidden","accept","files","allUploadedFiles","Resizer","imageFileResizer","uri","initialState","ProductCreate","LoadingOutlined","alert","reload","AdminProductCard","AllProducts","setPrice","categoryIds","setCategoryIds","delayed","setTimeout","fetchProducts","query","clearTimeout","handleCheck","inTheState","justChecked","foundInTheState","indexOf","splice","defaultOpenKeys","EuroOutlined","tipFormatter","range","max","DownSquareOutlined","marginTop","checked","ProductUpdateForm","selectedCategory","arrayOfSubs","setArrayOfSubs","sold","ProductUpdate","setSelectedCategory","loadProduct","ProductListItems","SingleProduct","Tabs","TabPane","sound","showArrows","autoPlay","infiniteLoop","Record","controls","HeartOutlined","Product","setProduct","related","setRelated","loadSingleProduct","r","CategoryHome","setCategory","Shop","ProductCardInCheckout","width","small","large","CloseOutlined","Cart","reduce","currentValue","nextValue","pathname","Checkout","setTotal","setAddress","addressSaved","setAddressSaved","cartTotal","theme","warning","StripeCheckout","succeeded","setSucceeded","setError","processing","setProcessing","setDisabled","clientSecret","setClientSecret","stripe","useStripe","elements","useElements","confirmCardPayment","payment_method","card","getElement","CardElement","billing_details","empty","base","fontFamily","fontSmoothing","invalid","iconColor","promise","loadStripe","Payment","imageStyle","SideDrawer","drawer","placement","onClose","visible","alt","App","unsubscribe","onAuthStateChanged","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","store","createStore","composeWithDevTools","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a8b5abdb.chunk.js","sourcesContent":["//import * as firebase from 'firebase';\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\n  // Your web app's Firebase configuration\n  const firebaseConfig = {\n    apiKey: \"AIzaSyBIbwwrFQIL6aBUG_5dkP65UtnG-_E0jyM\",\n    authDomain: \"indeep-3ec84.firebaseapp.com\",\n    databaseURL:\"https://indeep-3ec84-default-rtdb.europe-west1.firebasedatabase.app\",\n    projectId: \"indeep-3ec84\",\n    storageBucket: \"indeep-3ec84.appspot.com\",\n    messagingSenderId: \"77708790062\",\n    appId: \"1:77708790062:web:131c03f849690e3a6352bf\"\n  };\n  // Initialize Firebase\n  firebase.initializeApp(firebaseConfig);\n\n  export const auth = firebase.auth();\n  export const googleAuthProvider = new firebase.auth.GoogleAuthProvider();\n\n","import axios from \"axios\";\n\nexport const createOrUpdateUser = async (authtoken) => {\n  return await axios.post(\n    `${process.env.REACT_APP_API}/create-or-update-user`,\n    {},\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n};\n\nexport const currentUser = async (authtoken) => {\n  return await axios.post(\n    `${process.env.REACT_APP_API}/current-user`,\n    {},\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n};\n\nexport const currentAdmin = async (authtoken) => {\n  return await axios.post(\n    `${process.env.REACT_APP_API}/current-admin`,\n    {},\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { auth, googleAuthProvider } from \"../../firebase\";\nimport { toast } from \"react-toastify\";\nimport { Button } from \"antd\";\nimport {\n  MailOutlined,\n  LogoutOutlined,\n  UserOutlined,\n  UserAddOutlined,\n  SettingOutlined,\n  HomeOutlined,\n  GoogleOutlined,\n} from \"@ant-design/icons\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nimport { createOrUpdateUser } from \"./../../functions/auth\";\n\nconst Login = ({ history }) => {\n  const [email, setEmail] = useState(\"emma.ryal@gmail.com\");\n  const [password, setPassword] = useState(\"123456\");\n  const [loading, setLoading] = useState(false);\n\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    let intended = history.location.state;\n    if (intended) {\n      return;\n    } else {}\n    if (user && user.token) history.push(\"/\");\n  }, [user, history]);\n\n  let dispatch = useDispatch();\n\n  const roleBasedRedirect = (res) => {\n    let intended = history.location.state;\n    if (intended) {\n      history.push(intended.from);\n    } else\n{    if (res.data.role === \"admin\") {\n      history.push(\"/admin/dashboard\");\n    } else {\n      history.push(\"user/history\");}\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const result = await auth.signInWithEmailAndPassword(email, password);\n      console.log(\"result :\", result);\n      const { user } = result;\n      const idTokenResult = await user.getIdTokenResult();\n\n      createOrUpdateUser(idTokenResult.token)\n        .then((res) => {\n          console.log(\"CREATE OR UPDATE RES : \", res);\n          dispatch({\n            type: \"LOGGED_IN_USER\",\n            payload: {\n              name: res.data.name,\n              email: res.data.email,\n\n              token: idTokenResult.token,\n              role: res.data.role,\n              _id: res.data._id,\n            },\n          });\n          roleBasedRedirect(res)\n        })\n        .catch((err) => console.log(err));\n\n      history.push(\"/\");\n    } catch (error) {\n      console.log(error);\n      toast.error(error.message);\n      setLoading(false);\n    }\n  };\n  const googleLogin = async () => {\n    auth\n      .signInWithPopup(googleAuthProvider)\n      .then(async (result) => {\n        const { user } = result;\n        const idTokenResult = await user.getIdTokenResult();\n        createOrUpdateUser(idTokenResult.token)\n          .then((res) => {\n            console.log(\"CREATE OR UPDATE RES : \", res);\n            dispatch({\n              type: \"LOGGED_IN_USER\",\n              payload: {\n                name: res.data.name,\n                email: res.data.email,\n\n                token: idTokenResult.token,\n                role: res.data.role,\n                id: res.data.id,\n              },\n            });\n         roleBasedRedirect(res);\n          })\n          .catch((err) => console.log(err));\n\n        //history.push(\"/\");\n      })\n      .catch((error) => {\n        console.log(error);\n        toast.error(error.message);\n      });\n  };\n  const loginForm = () => (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <input\n          type=\"email\"\n          className=\"form-control\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"Your email\"\n          autoFocus\n        />\n      </div>\n      <br />\n      <div className=\"form-group\">\n        <input\n          type=\"password\"\n          className=\"form-control\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          placeholder=\"Your password\"\n        />\n      </div>\n      <br />\n      <Button\n        onClick={handleSubmit}\n        type=\"primary\"\n        className=\"mb-3\"\n        block\n        shape=\"round\"\n        icon={<MailOutlined />}\n        size=\"large\"\n        disabled={!email || password.length < 6}\n      >\n        Login with Email/Password\n      </Button>\n    </form>\n  );\n\n  return (\n    <div>\n      <div className=\"container p-5\">\n        <div className=\"row\">\n          <div className=\"col-md-6 offset-md-3\">\n            {loading ? (\n              <h4 className=\"text-danger\">loading...</h4>\n            ) : (\n              <h4>Login</h4>\n            )}\n\n            {loginForm()}\n            <Button\n              onClick={googleLogin}\n              type=\"danger\"\n              className=\"mb-3\"\n              block\n              shape=\"round\"\n              icon={<GoogleOutlined />}\n              size=\"large\"\n            >\n              Login with Google\n            </Button>\n\n            <Link to=\"/forgot/password\" className=\"float-right text-danger\">\n              Forgot Password\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, {useState, useEffect} from 'react';\nimport {auth} from '../../firebase';\nimport {toast} from 'react-toastify';\nimport {useSelector} from 'react-redux'\n\n\nconst Register = ({history}) => {\n   const [email, setEmail] = useState(\"\");\n\n   const {user} = useSelector(state =>({...state}));\n\n   useEffect(() =>{\n     if(user && user.token) history.push('/');\n   }, [user, history])\n \n\n   const handleSubmit = async(e) => { \n       e.preventDefault()\n       const config={\n           url: process.env.REACT_APP_REGISTER_REDIRECT_URL,\n           handleCodeInApp: true\n       };\n       await auth.sendSignInLinkToEmail(email, config);\n       toast.success(\n           `Email is sent to ${email}. Click the link to complete your registration.`\n           );\n  \n   //save user email to local storage\n   window.localStorage.setItem('emailForRegistration', email);\n   // clear the state\n   setEmail('');\n};\n    const registerForm = () => \n        <form onSubmit = {handleSubmit}>\n            <input \n            type=\"email\" \n            className=\"form-control\" \n            value = {email} \n            onChange = {(e) => setEmail(e.target.value)}\n            placeholder=\"Your email\"\n            autoFocus\n            />\n<br />\n            <button type=\"submit\" className=\"btn btn-raised\">Register</button>\n        </form>\n    \n    return (\n\n        <div>\n            <div className=\"container p-5\">\n                <div className=\"row\">\n                    <div className=\"col-md-6 offset-md-3\">\n                        <h4>Register</h4>\n                        \n                        {registerForm()}\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    );\n\n\n};\n\nexport default Register;","export default \"data:image/jpeg;base64,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\"","import React, {useState} from \"react\";\nimport { Card, Tooltip } from \"antd\";\nimport { EyeOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\nimport record from \"./../../images/record.jpeg\";\nimport { Link } from \"react-router-dom\";\nimport _ from \"lodash\";\nimport {useSelector, useDispatch} from 'react-redux'\n\n\nconst { Meta } = Card;\n\nconst ProductCard = ({ product }) => {\n  //destructure\n  const { images, title, description, slug, artist, label, price } = product;\n  //tooltip\n  const [tooltip, setTooltip] = useState(\"Click to add\");\n//redux\nconst {user, cart} = useSelector(state => ({...state}))\nconst dispatch = useDispatch()\n\n\n  const handleAddToCart = () => {\n    let cart = [];\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      }\n      cart.push({\n        ...product,\n        count: 1,\n      });\n      let unique = _.uniqWith(cart, _.isEqual);\n      localStorage.setItem(\"cart\", JSON.stringify(unique));\n      setTooltip(\"Added\");\n\n\n      // add to redux state\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: unique\n      })\n      dispatch({\n        type: \"SET_VISIBLE\",\n        payload: true\n      })\n    }\n  };\n\n  return (\n    <>\n      <Card\n        cover={\n          <img\n            src={images && images.length ? images[0].url : record}\n            style={{ height: \"250px\", objectFit: \"cover\" }}\n            className=\"p-1\"\n          />\n        }\n        actions={[\n          <Link to={`/product/${slug}`}>\n            <EyeOutlined className=\"text-warning\" /> <br /> View Product\n          </Link>,\n          <Tooltip title={tooltip}>\n            <a onClick={handleAddToCart}disabled={product.quantity < 1}>\n              <ShoppingCartOutlined className=\"text-danger\" /> <br /> \n              {product.quantity <1 ? 'Out of Stock' :'Add to Cart'}\n            </a>\n          </Tooltip>,\n        ]}\n      >\n        <Meta\n          title={title}\n\n          // artist={artist}\n          // label={label}\n        />\n        {/* <div className=\"pt-3\">\n      <p>Artist: {artist}</p>\n      <p>Label: {label}</p>\n      <p>Price: {price}</p>\n    </div> */}\n      </Card>\n    </>\n  );\n};\n\nexport default ProductCard;\n","import axios from \"axios\";\n\nexport const createProduct = async (product, authtoken) =>\n  await axios.post(`${process.env.REACT_APP_API}/product`, product, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const getProductsByCount = async (count) =>\n  await axios.get(`${process.env.REACT_APP_API}/products/${count}`);\n\nexport const removeProduct = async (slug, authtoken) =>\n  await axios.delete(`${process.env.REACT_APP_API}/product/${slug}`, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const getProduct = async (slug) =>\n  await axios.get(`${process.env.REACT_APP_API}/product/${slug}`);\n\nexport const updateProduct = async (slug, product, authtoken) =>\n  await axios.put(`${process.env.REACT_APP_API}/product/${slug}`, product, {\n    headers: {\n      authtoken,\n    },\n  });\n\n  export const getProducts = async (sort, order, page) =>\n  await axios.post(`${process.env.REACT_APP_API}/products`,\n  {sort, order, page} \n    \n  );\n\n  export const getProductsCount = async (slug) =>\n  await axios.get(`${process.env.REACT_APP_API}/products/total`);\n\n  export const listRelated = async (productId) =>\n  await axios.get(`${process.env.REACT_APP_API}/product/related/${productId}`);\n\n\n  export const fetchProductsByFilter = async (arg) =>\n  await axios.post(`${process.env.REACT_APP_API}/search/filters`, arg);\n","import React from \"react\";\nimport {Card, Skeleton } from \"antd\";\nimport { EyeOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\nimport record from \"./../../images/record.jpeg\";\nimport { Link } from \"react-router-dom\";\n\nconst LoadingCard = ({count}) => {\n\n    const cards = () => {\n        let totalCards = [];\n\n        for (let i=0; i<count; i++) {\n            totalCards.push(\n            <Card className= 'col-md-3' key={i}>\n                <Skeleton active></Skeleton>\n            </Card>\n            );\n        }\n        return totalCards;\n    };\n    return <div className= 'row pb-5'>{cards()}</div>;\n};\nexport default LoadingCard;\n","import React, { useEffect, useState } from \"react\";\nimport ProductCard from \"./../cards/ProductCard\";\nimport { getProducts, getProductsCount } from \"./../../functions/product\";\nimport LoadingCard from \"./../cards/LoadingCard\";\nimport { Pagination } from \"antd\";\n\nconst BestSellers = () => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [page, setPage] = useState(1);\n  const [productsCount, setProductsCount] = useState(1);\n\n\n  useEffect(() => {\n    loadAllProducts();\n  }, [page]);\n\n  useEffect(() => {\n    getProductsCount().then((res) => setProductsCount(res.data));\n  }, []);\n\n  const loadAllProducts = () => {\n    setLoading(true);\n    // sort, order, limit\n    getProducts('sold', 'desc', page).then((res) => {\n      setProducts(res.data);\n      setLoading(false);\n    });\n  };\n\n  return (\n    <>\n   \n\n      <div className=\"container\">\n        {loading ? (\n          <LoadingCard count={4} />\n        ) : (\n          <div className=\"row\">\n            {products.map((product) => (\n              <div key={product._id} className=\"col-md-3\">\n                <ProductCard product={product} />\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      <div className=\"row\">\n<nav className=\"col-md-4 offset-md-4 text-center pt-5 p-3\">\n\n<Pagination\n        current={page}\n        total={(productsCount / 4) * 10}\n        onChange={(value) => setPage(value)}\n      />\n</nav>\n\n      </div>\n    </>\n  );\n};\n\nexport default BestSellers;\n","import React from 'react'\nimport Typewriter from 'typewriter-effect'\n\nconst Jumbotron = ({text}) => (\n    <Typewriter options={{\n        strings: text,\n        autoStart: true,\n        loop: true\n    }} />\n)\n\nexport default Jumbotron","import React, { useEffect, useState } from \"react\";\nimport ProductCard from \"./../cards/ProductCard\";\nimport { getProducts, getProductsCount } from \"./../../functions/product\";\nimport LoadingCard from \"./../cards/LoadingCard\";\nimport { Pagination } from \"antd\";\n\nconst NewArrivals = () => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [page, setPage] = useState(1);\n  const [productsCount, setProductsCount] = useState(1);\n\n  useEffect(() => {\n    loadAllProducts();\n  }, [page]);\n\n  useEffect(() => {\n    getProductsCount().then((res) => setProductsCount(res.data));\n  }, []);\n\n  const loadAllProducts = () => {\n    setLoading(true);\n    // sort, order, limit\n    getProducts(\"createdAt\", \"desc\", page).then((res) => {\n      setProducts(res.data);\n      setLoading(false);\n    });\n  };\n\n  return (\n    <>\n      <div className=\"container\">\n        {loading ? (\n          <LoadingCard count={4} />\n        ) : (\n          <div className=\"row\">\n            {products.map((product) => (\n              <div key={product._id} className=\"col-md-3\">\n                <ProductCard product={product} />\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n      <div className=\"row\">\n<nav className=\"col-md-4 offset-md-4 text-center pt-5 p-3\">\n\n<Pagination\n        current={page}\n        total={(productsCount / 4) * 10}\n        onChange={(value) => setPage(value)}\n      />\n</nav>\n\n      </div>\n   \n    </>\n  );\n};\n\nexport default NewArrivals;\n","import axios from \"axios\";\n\nexport const getCategories = async () =>\n  await axios.get(`${process.env.REACT_APP_API}/categories`);\n\nexport const getCategory = async (slug) =>\n  await axios.get(`${process.env.REACT_APP_API}/category/${slug}`);\n\nexport const removeCategory = async (slug, authtoken) =>\n  await axios.delete(`${process.env.REACT_APP_API}/category/${slug}`, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const updateCategory = async (slug, category, authtoken) =>\n  await axios.put(`${process.env.REACT_APP_API}/category/${slug}`, category, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const createCategory = async (category, authtoken) =>\n  await axios.post(`${process.env.REACT_APP_API}/category`, category, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const getCategorySubs = async (_id) =>\n  await axios.get(`${process.env.REACT_APP_API}/category/subs/${_id}`);","import React, {useEffect, useState}  from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getCategories } from \"./../../functions/category\";\n\nconst CategoryList = () => {\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    getCategories().then((c) => {\n      setCategories(c.data);\n      setLoading(false);\n    });\n  }, []);\n  const showCategories = () =>\n    categories.map((c) => (\n      <div key={c._id}className=\"col btn btn-outlined-primary btn-lg btn-block btn-raised m-3\">\n<Link to={`/category/${c.slug}`}>{c.name}</Link>  \n      </div>\n    ));\n\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        {loading ? (\n          <h4 className=\"text-center\">Loading...</h4>\n        ) : (\n          showCategories()\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryList;\n","import axios from \"axios\";\n\nexport const getSubs = async () =>\n  await axios.get(`${process.env.REACT_APP_API}/subs`);\n\nexport const getSub = async (slug) =>\n  await axios.get(`${process.env.REACT_APP_API}/sub/${slug}`);\n\nexport const removeSub = async (slug, authtoken) =>\n  await axios.delete(`${process.env.REACT_APP_API}/sub/${slug}`, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const updateSub = async (slug, sub, authtoken) =>\n  await axios.put(`${process.env.REACT_APP_API}/sub/${slug}`, sub, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const createSub = async (sub, authtoken) =>\n  await axios.post(`${process.env.REACT_APP_API}/sub`, sub, {\n    headers: {\n      authtoken,\n    },\n  });","import React, {useEffect, useState}  from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getSubs } from \"./../../functions/sub\";\n\nconst SubList = () => {\n  const [subs, setSubs] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    getSubs().then((res) => {\n      setSubs(res.data);\n      setLoading(false);\n    });\n  }, []);\n  const showSubs = () =>\n    subs.map((s) => (\n      <div key={s._id}className=\"col btn btn-outlined-primary btn-lg btn-block btn-raised m-3\">\n<Link to={`/sub/${s.slug}`}>{s.name}</Link>  \n      </div>\n    ));\n\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        {loading ? (\n          <h4 className=\"text-center\">Loading...</h4>\n        ) : (\n          showSubs()\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SubList;\n","import React, { useEffect, useState } from \"react\";\nimport BestSellers from \"./../components/Home/BestSellers\";\nimport Jumbotron from \"./../components/cards/Jumbotron\";\nimport NewArrivals from \"./../components/Home/NewArrivals\";\nimport CategoryList from \"./../components/category/CategoryList\";\nimport SubList from \"./../components/sub/SubList\";\n\nconst Home = () => {\n  return (\n    <>\n      <div\n        className=\"jumbotron h2 text-center font-weight-bold\"\n        style={{ font: \"AmericanTypewriter\" }}\n      >\n        <Jumbotron text={[\"InDeep Records\", \"Rare & Hard to Find Vinyl\"]} />\n      </div>\n\n      <h5 className=\"text-center  p-3 mt-5 mb-5 display-3 jumbotron \">\n        New Arrivals\n      </h5>\n      <NewArrivals />\n\n      <h5 className=\"text-center p-3 mt-5 mb-5 display-3 jumbotron \">\n        Best Sellers\n      </h5>\n      <BestSellers />\n\n      <h5 className=\"text-center p-3 mt-5 mb-5 display-3 jumbotron \">\n        Categories\n      </h5>\n      <CategoryList />\n\n      <h4 className=\"text-center p-3 mt-5 mb-5 display-3 jumbotron \">\n        Sub Categories\n      </h4>\n      <SubList />\n\n      <br />\n      <br />\n    </>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { SearchOutlined } from \"@ant-design/icons\";\n\nconst Search = () => {\n  const dispatch = useDispatch();\n  const { search } = useSelector((state) => ({ ...state }));\n  const { text } = search;\n  const history = useHistory();\n\n  const handleChange = (e) => {\n      dispatch({\n          type: 'SEARCH_QUERY',\n          payload: {text: e.target.value}\n      })\n  };\n\n  const handleSubmit = (e) => {\n      e.preventDefault()\n      history.push(`/shop?${text}`);\n  };\n\n  return (\n    <form className=\"form-inline my-2 my-lg-0\" onSubmit={handleSubmit}>\n      <input\n      onChange={handleChange}\n        type=\"search\"\n        value={text}\n        className=\"form-control mr-sm-2\"\n        placeholder=\"Search\"\n      />\n      <SearchOutlined />\n    </form>\n  );\n};\n\nexport default Search;\n","import React, {useState} from 'react'\nimport {Menu, Badge} from 'antd'\nimport { \n    MailOutlined, LogoutOutlined,\n    UserOutlined, UserAddOutlined,\n    SettingOutlined, HomeOutlined , ShoppingOutlined, ShoppingCartOutlined\n} from '@ant-design/icons';\nimport {Link} from 'react-router-dom';\nimport firebase from 'firebase'\nimport {useDispatch, useSelector} from 'react-redux'\nimport {useHistory} from 'react-router-dom'\nimport Search from '../../components/forms/Search'\n\nconst { SubMenu, Item } = Menu; //Menu.SubMenu\n\n\nconst Header = () => {\n const [current, setCurrent] = useState('home') // same as using state in class based components\n let dispatch = useDispatch();\n let {user, cart} = useSelector((state)=>({...state}))\n let history= useHistory();\n\n const handleClick = (e) => {\n     setCurrent(e.key);\n } \n const logout = () => {\n     firebase.auth().signOut()\n     dispatch ({\n         type: \"LOGOUT\",\n         payload: null,\n     });\nhistory.push('/login');\n };\n return (\n    <Menu onClick={handleClick} selectedKeys={[current]} mode=\"horizontal\">\n    <Item key=\"home\" icon={<HomeOutlined />}>\n      <Link to=\"/\">   Home  </Link>\n    </Item>\n\n    <Item key=\"shop\" icon={<ShoppingOutlined />}>\n      <Link to=\"/shop\">   Shop  </Link>\n    </Item>\n\n    <Item key=\"cart\" icon={<ShoppingCartOutlined />}>\n      <Link to=\"/cart\"> \n      <Badge count={cart.length} offset={[9,0]} >\n      Cart \n      </Badge>\n        \n      </Link>\n    </Item>\n\n\n\n\n    {!user && (<Item key=\"register\" icon={<UserAddOutlined />}className='float-right'>\n    <Link to=\"/register\">   Register </Link>\n    </Item>)}\n    {!user && (<Item key=\"login\" icon={<UserOutlined />}className='float-right'>\n    <Link to=\"/login\">   Login </Link>\n    </Item>)}\n    \n   {user && (\n    <SubMenu \n    icon={<SettingOutlined />} \n    title={user.email && user.email.split('@')[0]}\n    className=\"float-right\">\n      \n        {user && user.role === 'subscriber' && (\n            <Item>\n                <Link to='/user/history'>Dashboard</Link>\n            </Item>\n        )}\n\n        {user && user.role === 'admin' && (\n            <Item>\n                <Link to='/admin/dashboard'>Dashboard</Link>\n            </Item>\n        )}\n       \n        <Item icon={<LogoutOutlined />} onClick={logout}>Logout</Item>\n      \n     \n    </SubMenu>)}\n    \n\n<span className=\"float-right p-1\">\n    <Search />\n</span>\n\n  </Menu>\n\n   )\n}\n\nexport default Header;\n","import React, { useState, useEffect } from \"react\";\nimport { auth } from \"../../firebase\";\nimport { toast } from \"react-toastify\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport {createOrUpdateUser} from './../../functions/auth'\n\n\nconst RegisterComplete = ({ history }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const { user } = useSelector((state) => ({ ...state }));\n  let dispatch = useDispatch();\n\n  useEffect(() => {\n    setEmail(window.localStorage.getItem(\"emailForRegistration\"));\n    // console.log(window.location.href);\n    // console.log(window.localStorage.getItem(\"emailForRegistration\"));\n  }, [history]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    // validation\n    if (!email || !password) {\n      toast.error(\"Email and password is required\");\n      return;\n    }\n\n    if (password.length < 6) {\n      toast.error(\"Password must be at least 6 characters long\");\n      return;\n    }\n\n    try {\n      const result = await auth.signInWithEmailLink(\n        email,\n        window.location.href\n      );\n      //   console.log(\"RESULT\", result);\n      if (result.user.emailVerified) {\n        // remove user email fom local storage\n        window.localStorage.removeItem(\"emailForRegistration\");\n        // get user id token\n        let user = auth.currentUser;\n        await user.updatePassword(password);\n        const idTokenResult = await user.getIdTokenResult();\n        // redux store\n        console.log(\"user\", user, \"idTokenResult\", idTokenResult);\n       \n        createOrUpdateUser(idTokenResult.token)\n        .then((res) => {\n          dispatch({\n            type: \"LOGGED_IN_USER\",\n            payload: {\n              email: res.data.email,\n              name: res.data.name,\n              token: idTokenResult.token,\n              role: res.data.role,\n              _id: res.data._id,\n            },\n          });\n        })\n        .catch(err => console.log(err));\n       \n        // redirect\n        history.push(\"/\");\n      }\n    } catch (error) {\n      console.log(error);\n      toast.error(error.message);\n    }\n  };\n\n  const completeRegistrationForm = () => (\n    <form onSubmit={handleSubmit}>\n      <input type=\"email\" className=\"form-control\" value={email} disabled />\n\n      <input\n        type=\"password\"\n        className=\"form-control\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n        placeholder=\"Password\"\n        autoFocus\n      />\n      <br />\n      <button type=\"submit\" className=\"btn btn-raised\">\n        Complete Registration\n      </button>\n    </form>\n  );\n\n  return (\n    <div className=\"container p-5\">\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-md-3\">\n          <h4>Register Complete</h4>\n          {completeRegistrationForm()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RegisterComplete;","import React, { useState, useEffect } from \"react\";\nimport { auth } from \"../../firebase\";\nimport { toast } from \"react-toastify\";\n\nimport { useSelector } from \"react-redux\";\n\nconst ForgotPassword = ({ history }) => {\n  const [email, setEmail] = useState(\"\");\n  const [loading, setLoading] = useState(false);\nconst {user} = useSelector(state =>({...state}));\n\n  useEffect(() =>{\n    if(user && user.token) history.push('/');\n  }, [user, history])\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    const config = {\n      url: process.env.REACT_APP_FORGOT_PASSWORD_REDIRECT,\n      handleCodeInApp: true,\n    };\n    await auth\n      .sendPasswordResetEmail(email, config)\n      .then(() => {\n          setEmail('');\n          setLoading(false);\n          toast.success('Check your email for password reset link');\n      })\n      .catch((error) => {\n        setLoading(false);\n        toast.error(error.message);\n      });\n  };\n\n  return (\n    <div className=\"container col-md-6 offset-md-3 p-5\">\n      {loading ? (\n        <h4 className=\"text-danger\">Loading</h4>\n      ) : (\n        <h4>Forgot Password</h4>\n      )}\n\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"email\"\n          className=\"form-control\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"Type your email\"\n          autoFocus\n        />\n        <br />\n        <button className=\"btn btn-raised\" disabled={!email}>\n          Submit\n        </button>\n      </form>\n    </div>\n  );\n};\nexport default ForgotPassword;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nconst UserNav = () => (\n\n    <nav>\n       <ul className=\"nav flex-column\">\n           <li className=\"nav-item\">\n               <Link to='/user/history'className='nav-link'>History</Link>\n           </li>\n\n           <li className=\"nav-item\">\n               <Link to='/user/password'className='nav-link'>Password</Link>\n           </li>\n\n           <li className=\"nav-item\">\n               <Link to='/user/wishlist'className='nav-link'>Wish List</Link>\n           </li>\n\n       </ul>\n    </nav>\n)\n\nexport default UserNav","import axios from \"axios\";\n\nexport const userCart = async (cart, authtoken) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/user/cart`,\n    { cart },\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n\nexport const getUserCart = async (authtoken) =>\n  await axios.get(`${process.env.REACT_APP_API}/user/cart`, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const emptyUserCart = async (authtoken) =>\n  await axios.delete(`${process.env.REACT_APP_API}/user/cart`, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const saveUserAddress = async (authtoken, address) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/user/address`,\n    { address },\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n\nexport const createOrder = async (stripeResponse, authtoken) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/user/order`,\n    { stripeResponse },\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n\nexport const getUserOrders = async (authtoken) =>\n  await axios.get(`${process.env.REACT_APP_API}/user/orders`, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const getWishlist = async (authtoken) =>\n  await axios.get(`${process.env.REACT_APP_API}/user/wishlist`, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const removeFromWishlist = async (productId, authtoken) =>\n  await axios.put(\n    `${process.env.REACT_APP_API}/user/wishlist/${productId}`,\n    {  },\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n\n\nexport const addToWishlist = async (productId, authtoken) =>\nawait axios.post(\n  `${process.env.REACT_APP_API}/user/wishlist`,\n  { productId },\n  {\n    headers: {\n      authtoken,\n    },\n  }\n);\n","import { OrderedListOutlined } from \"@ant-design/icons\";\nimport react from \"react\";\n\n\nconst ShowPaymentInfo = ({ order, showStatus = true }) => (\n  <div className=\"\">\n    <p>\n      <span>Order Id: {order.paymentIntent.id}</span>\n      {\" / \"}\n      <span>\n        Amount:{\" / \"}\n        {(order.paymentIntent.amount /= 100).toLocaleString(\"en-UK\", {\n          style: \"currency\",\n          currency: \"EUR\",\n        })}\n      </span>\n      {\" / \"}\n      <span>Currency: {order.paymentIntent.currency.toUpperCase()}</span>\n      {\" / \"}\n      <span>Method: {order.paymentIntent.payment_method_types[0]}</span>\n      {\" / \"}\n      <span>Payment: {order.paymentIntent.status.toUpperCase()}</span>\n      {\" / \"}\n      <span>\n        Ordered On:{\" \"}\n        {new Date(order.paymentIntent.created * 1000).toLocaleString()}\n      </span>\n      {\" / \"}\n      <br/>\n      {showStatus ? <span className=\"badge bg-primary text-white\">\n        STATUS: {order.orderStatus}\n      </span> : null }\n    </p>\n  </div>\n);\nexport default ShowPaymentInfo;\n","import React from \"react\";\nimport { Document, Page, Text, StyleSheet } from \"@react-pdf/renderer\";\nimport {\n  Table,\n  TableHeader,\n  TableCell,\n  TableBody,\n  DataTableCell,\n} from \"@david.kucsai/react-pdf-table\";\n\nconst Invoice = ({ order }) => (\n  <Document>\n    <Page style={styles.body}>\n      <Text style={styles.header} fixed>\n        ~ {new Date().toLocaleString()} ~\n      </Text>\n      <Text style={styles.title}>Order Invoice</Text>\n      <Text style={styles.author}>Indeep Records</Text>\n      <Text style={styles.subtitle}>Order Summary</Text>\n\n      <Table>\n        <TableHeader>\n          <TableCell>Title</TableCell>\n          <TableCell>Artist</TableCell>\n          <TableCell>Label</TableCell>\n          <TableCell>Count</TableCell>\n          <TableCell>Price</TableCell>\n        </TableHeader>\n      </Table>\n\n      <Table data={order.products}>\n        <TableBody>\n          <DataTableCell getContent={(x) => x.product.title} />\n          <DataTableCell getContent={(x) => x.product.artist} />\n          <DataTableCell getContent={(x) => x.product.label} />\n          <DataTableCell getContent={(x) => x.count} />\n          <DataTableCell getContent={(x) => `${x.product.price}`} />\n        </TableBody>\n      </Table>\n\n      <Text style={styles.text}>\n        <Text>\n          Date: {\"               \"}\n          {new Date(order.paymentIntent.created * 1000).toLocaleString()}\n        </Text>\n        {\"\\n\"}\n        <Text>\n          Order Id: {\"         \"}\n          {order.paymentIntent.id}\n        </Text>\n        {\"\\n\"}\n        <Text>\n          Order Status: {\"  \"}\n          {order.orderStatus}\n        </Text>\n        {\"\\n\"}\n        <Text>\n          Total Paid: {\"       \"}{order.paymentIntent.amount}\n        </Text>\n      </Text>\n\n      <Text style={styles.footer}> ~ Thank you for shopping with us ~ </Text>\n    </Page>\n  </Document>\n);\n\nconst styles = StyleSheet.create({\n  body: {\n    paddingTop: 35,\n    paddingBottom: 65,\n    paddingHorizontal: 35,\n  },\n  title: {\n    fontSize: 24,\n    textAlign: \"center\",\n  },\n  author: {\n    fontSize: 12,\n    textAlign: \"center\",\n    marginBottom: 40,\n  },\n  subtitle: {\n    fontSize: 18,\n    margin: 12,\n  },\n  text: {\n    margin: 12,\n    fontSize: 14,\n    textAlign: \"justify\",\n  },\n  image: {\n    marginVertical: 15,\n    marginHorizontal: 100,\n  },\n  header: {\n    fontSize: 12,\n    marginBottom: 20,\n    textAlign: \"center\",\n    color: \"grey\",\n  },\n  footer: {\n    padding: \"100px\",\n    fontSize: 12,\n    marginBottom: 20,\n    textAlign: \"center\",\n    color: \"grey\",\n  },\n  pageNumber: {\n    position: \"absolute\",\n    fontSize: 12,\n    bottom: 30,\n    left: 0,\n    right: 0,\n    textAlign: \"center\",\n    color: \"grey\",\n  },\n});\n\nexport default Invoice;\n","import React, { useState, useEffect } from \"react\";\nimport UserNav from \"./../../components/nav/UserNav\";\nimport { getUserOrders } from \"./../../functions/user\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { CheckCircleOutlined, CloseCircleOutlined } from \"@ant-design/icons\";\nimport { toast } from \"react-toastify\";\nimport ShowPaymentInfo from \"./../../components/cards/ShowPaymentInfo\";\nimport { PDFDownloadLink } from \"@react-pdf/renderer\";\nimport Invoice from \"./../../components/order/Invoice\";\n\nconst History = () => {\n  const [orders, setOrders] = useState([]);\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadUserOrders();\n  }, []);\n\n  const loadUserOrders = () =>\n    getUserOrders(user.token).then((res) => {\n      console.log(JSON.stringify(res.data, null, 4));\n      setOrders(res.data);\n    });\n\n  const showOrderInTable = (order) => (\n    <table className=\"table table-bordered\">\n      <thead className=\"thead-light\">\n        <tr>\n          <th scope=\"col\">Title</th>\n          <th scope=\"col\">Artist</th>\n          <th scope=\"col\">Label</th>\n          <th scope=\"col\">Price</th>\n          <th scope=\"col\">Count</th>\n         \n        </tr>\n      </thead>\n\n      <tbody>\n        {order.products.map((p, i) => (\n          <tr key={i}>\n            <td>\n              <b>{p.product.title}</b>\n            </td>\n            <td>{p.product.artist}</td>\n            <td>{p.product.label}</td>\n            <td>{p.product.price}</td>\n            <td>{p.count}</td>\n         \n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n\n  const showDownloadLink = (order) => (\n    <PDFDownloadLink\n      document={<Invoice order={order} />}\n      fileName=\"invoice.pdf\"\n      className=\"btn btn-sm btn-block btn-outline-primary\"\n    >\n      Download PDF\n    </PDFDownloadLink>\n  );\n\n  const showEachOrders = () =>\n    orders.map((order, i) => (\n      <div key={i} className=\"m-5 p-3 card\">\n        <ShowPaymentInfo order={order} />\n        {showOrderInTable(order)}\n        <div className=\"row\">\n          <div className=\"col\">{showDownloadLink(order)}</div>\n        </div>\n      </div>\n    ));\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <UserNav />\n        </div>\n        <div className=\"col text-center\">\n          <h4>\n            {orders.length > 0 ? \"User purchase orders\" : \"No purchase orders\"}\n          </h4>\n          {showEachOrders()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default History;","import React, {useState, useEffect} from 'react';\nimport {useHistory} from 'react-router-dom';\n\nconst LoadingToRedirect = () => {\n    const [count, setCount] = useState(5);\n    let history = useHistory();\n\n    useEffect(() => {\n\n        const interval = setInterval(() => {\n            setCount((currentCount)=> --currentCount);\n            //\n        }, 1000);\n        // redirect when count is zero\n        count ===0 && history.push('/');\n        // cleanup\n        return () => clearInterval(interval);\n    }, [count]);\n\n    return (\n        <div className=\"container p-5 text-center\">\n            <p>Redirecting you in {count} seconds</p>\n        </div>\n    )\n};\n\nexport default LoadingToRedirect;","import React from \"react\";\nimport { Route, Link } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport LoadingToRedirect from \"./LoadingToRedirect\";\n\nconst UserRoute = ({ children, ...rest }) => {\n  const { user } = useSelector((state) => ({ ...state }));\n  return user && user.token ? (\n    <Route {...rest} />\n  ) : (\n    <LoadingToRedirect />\n  );\n};\nexport default UserRoute;\n","import React, { useEffect, useState } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport LoadingToRedirect from \"./LoadingToRedirect\";\nimport { currentAdmin } from \"../../functions/auth\";\n\nconst AdminRoute = ({ children, ...rest }) => {\n  const { user } = useSelector((state) => ({ ...state }));\n  const [ok, setOk] = useState(false);\n\n  useEffect(() => {\n    if (user && user.token) {\n      currentAdmin(user.token)\n        .then((res) => {\n          console.log(\"CURRENT ADMIN RES\", res);\n          setOk(true);\n        })\n        .catch((err) => {\n          console.log(\"ADMIN ROUTE ERR\", err);\n          setOk(false);\n        });\n    }\n  }, [user]);\n\n  return ok ? <Route {...rest} /> : <LoadingToRedirect />;\n};\n\nexport default AdminRoute;\n","import React, {useState} from 'react'\nimport UserNav from './../../components/nav/UserNav'\nimport {auth} from './../../firebase';\nimport {toast} from 'react-toastify'\n\nconst Password = () => \n{\n    const [password, setPassword] = useState('');\n    const [loading, setLoading] = useState(false);\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setLoading(true)\n        await auth.currentUser.updatePassword(password)\n        .then(() => {\n            setLoading(false);\n            setPassword('');\n            toast.success('Password updated')\n        })\n        .catch(err => {\n            setLoading(false)\n            toast.error(err.message)\n\n        })\n    }\n\n    const passwordUpdateForm =  () => (\n        <form onSubmit = {handleSubmit}>\n        <div className=\"form-group\">\n            <label>Your Password</label>\n            <input type=\"password\" \n            onChange={(e)=> setPassword(e.target.value)}\n            className='form-control'\n            placeholder='Enter new password' \n            disabled={loading}\n            value={password}\n            />\n            <button className=\"btn btn-primary\" disabled={!password || password.length < 6 || loading}>Submit</button>\n        </div>\n        </form>\n    )\n    return(\n    <div className=\"container-fluid\">\n    \n    <div className=\"row\">\n    <div className=\"col md-2\">\n        <UserNav />\n    </div>\n        \n            <div className=\"col\">\n            {loading ? <h4 className='text-danger'> Loading...</h4> : <h4>Password Update</h4>}\n            {passwordUpdateForm()}\n            \n            </div>\n        </div>\n    </div>\n)}\n\nexport default Password;","import React, { useState, useEffect } from \"react\";\nimport UserNav from \"./../../components/nav/UserNav\";\nimport { getWishlist, removeFromWishlist } from \"./../../functions/user\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport {DeleteOutlined} from '@ant-design/icons'\nconst Wishlist = () => {\n  const [wishlist, setWishlist] = useState([]);\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadWishlist();\n  }, []);\n\n  const loadWishlist = () =>\n    getWishlist(user.token).then((res) => {\n      console.log(res);\n      setWishlist(res.data.wishlist);\n    });\n\n  const handleRemove = (productId) =>\n    removeFromWishlist(productId, user.token).then((res) => {\n      loadWishlist();\n    });\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <UserNav />\n        </div>\n\n        <div className=\"col-md-10\">\n          <h4>Wishlist</h4>\n          {wishlist.map((p) => (\n            <div key={p._id} className=\"alert alert-secondary\">\n              <Link to=\"{`/product/${p.slug}`}\">\n                {p.title} ~ {p.artist} ~ {p.label}\n              </Link>\n\n              \n              <span\n                onClick={() => handleRemove(p._id)}\n                className=\"btn btn-sm float-right\"\n              ><DeleteOutlined className='text-danger' /></span>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Wishlist;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst AdminNav = () => (\n  <nav>\n    <ul className=\"nav flex-column\">\n      <li className=\"nav-item\">\n        <Link to=\"/admin/dashboard\" className=\"nav-link\">\n          Dashboard\n        </Link>\n      </li>\n\n    \n\n      <li className=\"nav-item\">\n        <Link to=\"/admin/product\" className=\"nav-link\">\n          Product\n        </Link>\n      </li>\n\n      <li className=\"nav-item\">\n        <Link to=\"/admin/products\" className=\"nav-link\">\n          Products\n        </Link>\n      </li>\n\n      <li className=\"nav-item\">\n        <Link to=\"/admin/category\" className=\"nav-link\">\n          Category\n        </Link>\n      </li>\n{/* \n      <li className=\"nav-item\">\n        <Link to=\"/admin/sub\" className=\"nav-link\">\n          Sub Category\n        </Link>\n      </li>\n\n      <li className=\"nav-item\">\n        <Link to=\"/admin/coupon\" className=\"nav-link\">\n          Coupon\n        </Link>\n      </li> */}\n\n      <li className=\"nav-item\">\n        <Link to=\"/user/password\" className=\"nav-link\">\n          Password\n        </Link>\n      </li>\n    </ul>\n  </nav>\n);\n\nexport default AdminNav;","import axios from \"axios\";\n\nexport const getOrders = async (authtoken) =>\n  await axios.get(`${process.env.REACT_APP_API}/admin/orders`, {\n    headers: { authtoken },\n  });\n\nexport const changeStatus = async (orderId, orderStatus, authtoken) =>\n  await axios.put(`${process.env.REACT_APP_API}/admin/order-status`, {orderId, orderStatus},{\n    headers: { authtoken },\n  });\n","import React from \"react\";\n// import {CheckCircleOutlined, CloseCircleOutlined} from '@ant-design/icons'\nimport ShowPaymentInfo from \"./../../components/cards/ShowPaymentInfo\";\n\nconst Orders = ({ orders, handleStatusChange }) => {\n\n    const showOrderInTable = (order) => (\n        <table className=\"table table-bordered\">\n          <thead className=\"thead-light\">\n            <tr>\n              <th scope=\"col\">Title</th>\n              <th scope=\"col\">Artist</th>\n              <th scope=\"col\">Label</th>\n              <th scope=\"col\">Price</th>\n              <th scope=\"col\">Count</th>\n             \n            </tr>\n          </thead>\n    \n          <tbody>\n            {order.products.map((p, i) => (\n              <tr key={i}>\n                <td>\n                  <b>{p.product.title}</b>\n                </td>\n                <td>{p.product.artist}</td>\n                <td>{p.product.label}</td>\n                <td>{p.product.price}</td>\n                <td>{p.count}</td>\n             \n              </tr>\n            ))}\n          </tbody>\n        </table>\n      );\n\n\n\n   return (<>\n    {orders.map((order) => (\n      <div className=\"row pb-5\" key={order._id}>\n        <div className=\"btn btn-block bg-light\">\n          <ShowPaymentInfo order={order} showStatus={false}/>\n          <div className=\"row\">\n            <div className=\"col-md-4\">Delivery Status</div>\n            <div className=\"col-md-8\">\n              <select\n                className=\"form-control\"\n                onChange={(e) => handleStatusChange(order._id, e.target.value)}\n                name=\"status\"\n                defaultValue={order.orderStatus}\n              >\n                <option value=\"Not Processed\">Not Processed</option>\n                <option value=\"Processing\">Processing</option>\n                <option value=\"Dispatched\">Dispatched</option>\n                <option value=\"Cancelled\">Cancelled</option>\n                <option value=\"Competed\">Competed</option>\n              </select>\n            </div>\n          </div>\n        </div>\n        {showOrderInTable(order)}\n      </div>\n    ))}\n  </>)\n};\nexport default Orders;\n","import React, {useState, useEffect} from \"react\";\nimport AdminNav from './../../components/nav/AdminNav'\nimport {getOrders, changeStatus} from './../../functions/admin'\nimport {useSelector, useDispatch} from 'react-redux'\nimport {toast} from 'react-toastify'\nimport Orders from './../../components/order/Orders.js'\n\n\nconst AdminDashboard = () => {\n  const [orders, setOrders] = useState([])\n  const {user} = useSelector((state) => ({...state}))\n\n  useEffect(() => {\n    loadOrders();\n  }, []);\n\nconst loadOrders = () => \ngetOrders(user.token).then((res) => {\n  console.log(JSON.stringify(res.data, null, 4))\n  setOrders(res.data)\n})\n\nconst handleStatusChange = (orderId, orderStatus) => {\n  changeStatus(orderId, orderStatus, user.token).then(res => {\n    toast.success('Status updated');\n    loadOrders()\n  })\n}\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <AdminNav />\n        </div>\n\n        <div className=\"col\">\n          <h4>Admin Dashboard</h4>\n          {/* {JSON.stringify(orders)} */}\n\n          <Orders orders={orders} handleStatusChange={handleStatusChange} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminDashboard;\n","import React from \"react\";\n\nconst CategoryForm = ({ handleSubmit, name, setName }) => (\n  <form onSubmit={handleSubmit}>\n    <div className=\"form-group\">\n      <label>Name</label>\n      <input\n        type=\"text\"\n        className=\"form-control\"\n        onChange={(e) => setName(e.target.value)}\n        value={name}\n        autoFocus\n        required\n      />\n      <br />\n      <button className=\"btn btn-outline-primary\">Save</button>\n    </div>\n  </form>\n);\n\nexport default CategoryForm;","import React from \"react\";\n\nconst LocalSearch = ({keyword, setKeyword}) => {\n    const handleSearchChange = (e) => {\n        e.preventDefault()\n        setKeyword(e.target.value.toLowerCase());\n    }\n  return (\n    <div>\n      <input\n        type=\"search\"\n        placeholder=\"Filter\"\n        value={keyword}\n        onChange={handleSearchChange}\n        className=\"form-control mb-4\"\n      />\n    </div>\n  );\n};\n\nexport default LocalSearch;\n","import React, { useState, useEffect } from \"react\";\nimport AdminNav from \"../../../components/nav/AdminNav\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\nimport {\n  createCategory,\n  getCategories,\n  removeCategory,\n} from \"../../../functions/category\";\nimport { Link } from \"react-router-dom\";\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport CategoryForm from \"../../../components/forms/CategoryForm\";\nimport LocalSearch from \"../../../components/forms/LocalSearch\";\n\nconst CategoryCreate = () => {\n  const { user } = useSelector((state) => ({ ...state }));\n\n  const [name, setName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [categories, setCategories] = useState([]);\n  // step 1\n  const [keyword, setKeyword] = useState(\"\");\n\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  const loadCategories = () =>\n    getCategories().then((c) => setCategories(c.data));\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    // console.log(name);\n    setLoading(true);\n    createCategory({ name }, user.token)\n      .then((res) => {\n        // console.log(res)\n        setLoading(false);\n        setName(\"\");\n        toast.success(`\"${res.data.name}\" is created`);\n        loadCategories();\n      })\n      .catch((err) => {\n        console.log(err);\n        setLoading(false);\n        if (err.response.status === 400) toast.error(err.response.data);\n      });\n  };\n\n  const handleRemove = async (slug) => {\n    // let answer = window.confirm(\"Delete?\");\n    // console.log(answer, slug);\n    if (window.confirm(\"Delete?\")) {\n      setLoading(true);\n      removeCategory(slug, user.token)\n        .then((res) => {\n          setLoading(false);\n          toast.error(`${res.data.name} deleted`);\n          loadCategories();\n        })\n        .catch((err) => {\n          if (err.response.status === 400) {\n            setLoading(false);\n            toast.error(err.response.data);\n          }\n        });\n    }\n  };\n\n  // step 4\n  const searched = (keyword) => (c) => c.name.toLowerCase().includes(keyword);\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <AdminNav />\n        </div>\n        <div className=\"col\">\n          {loading ? (\n            <h4 className=\"text-danger\">Loading..</h4>\n          ) : (\n            <h4>Create category</h4>\n          )}\n\n          <CategoryForm\n            handleSubmit={handleSubmit}\n            name={name}\n            setName={setName}\n          />\n\n          {/* step 2 and step 3 */}\n          <LocalSearch keyword={keyword} setKeyword={setKeyword} />\n\n          {/* step 5 */}\n          {categories.filter(searched(keyword)).map((c) => (\n            <div className=\"alert alert-secondary\" key={c._id}>\n              {c.name}\n              <span\n                onClick={() => handleRemove(c.slug)}\n                className=\"btn btn-sm float-right\"\n              >\n                <DeleteOutlined className=\"text-danger\" />\n              </span>\n              <Link to={`/admin/category/${c.slug}`}>\n                <span className=\"btn btn-sm float-right\">\n                  <EditOutlined className=\"text-warning\" />\n                </span>\n              </Link>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryCreate;","import React, { useState, useEffect } from \"react\";\nimport AdminNav from \"../../../components/nav/AdminNav\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\nimport { getCategory, updateCategory } from \"../../../functions/category\";\nimport CategoryForm from \"../../../components/forms/CategoryForm\";\n\nconst CategoryUpdate = ({ history, match }) => {\n  const { user } = useSelector((state) => ({ ...state }));\n\n  const [name, setName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    loadCategory();\n  }, []);\n\n  const loadCategory = () =>\n    getCategory(match.params.slug).then((c) => setName(c.data.name));\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    // console.log(name);\n    setLoading(true);\n    updateCategory(match.params.slug, { name }, user.token)\n      .then((res) => {\n        // console.log(res)\n        setLoading(false);\n        setName(\"\");\n        toast.success(`\"${res.data.name}\" is updated`);\n        history.push(\"/admin/category\");\n      })\n      .catch((err) => {\n        console.log(err);\n        setLoading(false);\n        if (err.response.status === 400) toast.error(err.response.data);\n      });\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <AdminNav />\n        </div>\n        <div className=\"col\">\n          {loading ? (\n            <h4 className=\"text-danger\">Loading..</h4>\n          ) : (\n            <h4>Update category</h4>\n          )}\n\n          <CategoryForm\n            handleSubmit={handleSubmit}\n            name={name}\n            setName={setName}\n          />\n\n          <hr />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryUpdate;","import React from \"react\";\nimport { Select } from \"antd\";\n\nconst { Option } = Select;\n\nconst ProductCreateForm = ({\n  handleSubmit,\n  handleChange,\n  setValues,\n  values,\n  handleCategoryChange,\n  subOptions,\n  showSub,\n}) => {\n  // destructure\n  const {\n    title,\n    description,\n    price,\n    categories,\n    category,\n    subs,\n    artist,\n    quantity,\n    images,\n    mediaCondition,\n    sleeveCondition,\n    format,\n    mediaConditions,\n    sleeveConditions,\n    formats,\n    catno,\n    status,\n    label\n  } = values;\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <label>Title</label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          className=\"form-control\"\n          value={title}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Description</label>\n        <input\n          type=\"text\"\n          name=\"description\"\n          className=\"form-control\"\n          value={description}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Price</label>\n        <input\n          type=\"number\"\n          name=\"price\"\n          className=\"form-control\"\n          value={price}\n          onChange={handleChange}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label>Artist</label>\n        <input\n          type=\"text\"\n          name=\"artist\"\n          className=\"form-control\"\n          value={artist}\n          onChange={handleChange}\n        />\n      </div>\n    \n      <div className=\"form-group\">\n        <label>Label</label>\n        <input\n          type=\"text\"\n          name=\"label\"\n          className=\"form-control\"\n          value={label}\n          onChange={handleChange}\n        />\n      </div>\n\n      \n\n      \n\n      <div className=\"form-group\">\n        <label>Format</label>\n        <select\n          value={format}\n          name=\"format\"\n          className=\"form-control\"\n          onChange={handleChange}\n        >\n          {formats.map((c) => (\n            <option key={c} value={c}>\n              {c}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label>Media Condition</label>\n        <select name=\"mediaCondition\" className=\"form-control\" onChange={handleChange}>\n          <option>Please select</option>\n          {mediaConditions.map((b) => (\n            <option key={b} value={b}>\n              {b}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label>Sleeve Condition</label>\n        <select name=\"sleeveCondition\" className=\"form-control\" onChange={handleChange}>\n          <option>Please select</option>\n          {sleeveConditions.map((c) => (\n            <option key={c} value={c}>\n              {c}\n            </option>\n          ))}\n        </select>\n      </div>\n\n    \n\n      <div className=\"form-group\">\n        <label>Category</label>\n        <select\n          name=\"category\"\n          className=\"form-control\"\n          onChange={handleCategoryChange}\n        >\n          <option>Please select</option>\n          {categories.length > 0 &&\n            categories.map((c) => (\n              <option key={c._id} value={c._id}>\n                {c.name}\n              </option>\n            ))}\n        </select>\n      </div>\n\n      {/* {showSub && (\n        <div>\n          <label>Sub Categories</label>\n          <Select\n            mode=\"multiple\"\n            style={{ width: \"100%\" }}\n            placeholder=\"Please select\"\n            value={subs}\n            onChange={(value) => setValues({ ...values, subs: value })}\n          >\n            {subOptions.length &&\n              subOptions.map((s) => (\n                <Option key={s._id} value={s._id}>\n                  {s.name}\n                </Option>\n              ))}\n          </Select>\n        </div>\n      )} */}\n\n      <br />\n      <button className=\"btn btn-outline-info\">Save</button>\n    </form>\n  );\n};\n\nexport default ProductCreateForm;","import React from \"react\";\nimport Resizer from \"react-image-file-resizer\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport { Avatar, Badge } from \"antd\";\n\nconst FileUpload = ({ values, setValues, setLoading }) => {\n  const { user } = useSelector((state) => ({ ...state }));\n  const fileUploadAndResize = (e) => {\n    let files = e.target.files;\n    let allUploadedFiles = values.images;\n    if (files) {\n      setLoading(true);\n      for (let i = 0; i < files.length; i++) {\n        Resizer.imageFileResizer(\n          files[i],\n          720,\n          720,\n          \"JPEG\",\n          100,\n          0,\n          (uri) => {\n            axios\n              .post(\n                `${process.env.REACT_APP_API}/uploadimages`,\n                { image: uri },\n                {\n                  headers: {\n                    authtoken: user ? user.token : \"\",\n                  },\n                }\n              )\n              .then((res) => {\n                console.log(\"image upload response data\", res);\n                setLoading(false);\n                allUploadedFiles.push(res.data);\n                setValues({ ...values, images: allUploadedFiles });\n              })\n              .catch((err) => {\n                setLoading(false);\n                console.log(\"cloudinary up`load error\", err);\n              });\n          },\n          \"base64\"\n        );\n      }\n    }\n  };\n  const handleImageRemove = (public_id) => {\n    setLoading(true);\n    console.log(\"remove image : \", public_id);\n    axios.post(`${process.env.REACT_APP_API}/removeimage`, {public_id}, {\n        headers: {\n            authtoken: user ? user.token : ''\n        }\n    })\n    .then(res => {\n        setLoading(false)\n        const {images} = values;\n        let filteredImages = images.filter((item) =>{\n            return item.public_id!== public_id\n        });\n        setValues({...values, images: filteredImages})\n    })\n    .catch((err) =>{\n        console.log(err)\n        setLoading(false);\n    })\n  };\n  return (\n    <>\n      <div className=\"row\">\n        {values.images &&\n          values.images.map((image) => (\n            <Badge\n              count=\"x\"\n              key={image.public_id}\n              onClick={() => handleImageRemove(image.public_id)}\n              style={ {cursor: 'pointer'}}\n            >\n              <Avatar\n                src={image.url}\n                size={100}\n                className=\"ml-3\"\n                shape=\"square\"\n              />\n            </Badge>\n          ))}\n      </div>\n      <div className=\"row mt-3\">\n        <label className=\"btn btn-primary btn-raised\">\n          Choose File\n          <input\n            type=\"file\"\n            multiple\n            hidden\n            accept=\"images/*\"\n            onChange={fileUploadAndResize}\n          />\n        </label>\n      </div>{\" \"}\n    </>\n  );\n};\n\nexport default FileUpload;\n","import React, { useState, useEffect } from \"react\";\nimport AdminNav from \"../../../components/nav/AdminNav\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\nimport { createProduct } from \"../../../functions/product\";\nimport ProductCreateForm from \"../../../components/forms/ProductCreateForm\";\nimport { getCategories, getCategorySubs } from \"../../../functions/category\";\nimport FileUpload from \"../../../components/forms/FileUpload\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\n\nconst initialState = {\n  title: \"Record Title\",\n  artist: \"Artist\",\n  label: \"label\",\n  description: \"Description of the record\",\n  price: \" \",\n  categories: [],\n  category: \"\",\n  // subs: [],\n  quantity: \"1\",\n  images: [\n    \n  ],\n  mediaConditions: [\"New\", \"Mint\", \"Near Mint\", \"VG+\", \"VG\", \"Generic\"],\n  sleeveConditions: [\"New\", \"Mint\", \"Near Mint\", \"VG+\", \"VG\", \"Generic\"],\n  catno: \"\",\n  formats: ['12\"', '7\"'],\n  format: \"\",\n  mediaCondition:\"\",\n  sleeveCondition: \"\"\n};\n\nconst ProductCreate = () => {\n  const [values, setValues] = useState(initialState);\n  const [subOptions, setSubOptions] = useState([]);\n  const [showSub, setShowSub] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  // redux\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  const loadCategories = () =>\n    getCategories().then((c) => setValues({ ...values, categories: c.data }));\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    createProduct(values, user.token)\n      .then((res) => {\n        console.log(res);\n        window.alert(`\"${res.data.title}\" is created`);\n        window.location.reload();\n      })\n      .catch((err) => {\n        console.log(err);\n        // if (err.response.status === 400) toast.error(err.response.data);\n        toast.error(err.response.data.err);\n      });\n  };\n\n  const handleChange = (e) => {\n    setValues({ ...values, [e.target.name]: e.target.value });\n    // console.log(e.target.name, \" ----- \", e.target.value);\n  };\n\n  const handleCategoryChange = (e) => {\n    e.preventDefault();\n    console.log(\"CLICKED CATEGORY\", e.target.value);\n    // setValues({ ...values, subs: [], category: e.target.value });\n    setValues({ ...values, category: e.target.value });\n    // getCategorySubs(e.target.value).then((res) => {\n    //   console.log(\"SUB OPTIONS ON CATGORY CLICK\", res);\n    //   setSubOptions(res.data);\n    // });\n    // setShowSub(true);\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <AdminNav />\n        </div>\n\n        <div className=\"col-md-10\">\n          {loading ? (\n            <LoadingOutlined className=\"text-danger h1\" />\n          ) : (\n            <h4>Product create</h4>\n          )}\n          <hr />\n\n          {/* {JSON.stringify(values.images)} */}\n\n          <div className=\"p-3\">\n            <FileUpload\n              values={values}\n              setValues={setValues}\n              setLoading={setLoading}\n            />\n          </div>\n\n          <ProductCreateForm\n            handleSubmit={handleSubmit}\n            handleChange={handleChange}\n            setValues={setValues}\n            values={values}\n            handleCategoryChange={handleCategoryChange}\n            // subOptions={subOptions}\n            // showSub={showSub}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductCreate;","import React from \"react\";\nimport { Card } from \"antd\";\nimport record from \"./../../images/record.jpeg\";\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport { Link } from \"react-router-dom\";\n\nconst { Meta } = Card;\n\nconst AdminProductCard = ({ product, handleRemove }) => {\n  // destructure\n  const { title, description, images, slug, artist, label, price } = product;\n\n  return (\n    <Card\n      cover={\n        <img\n          src={images && images.length ? images[0].url : record}\n          style={{ height: \"250px\",  objectFit: \"cover\" }}\n          className=\"p-1\"\n        />\n      }\n      actions={[\n        <Link to={`/admin/product/${slug}`}>\n          <EditOutlined className=\"text-warning\" />\n        </Link>,\n        <DeleteOutlined\n          onClick={() => handleRemove(slug)}\n          className=\"text-danger\"\n        />,\n      ]}\n    >\n      <Meta\n        title={title}\n        \n      // description={`${description && description.substring(0, 40)}...`}\n      />\n       {/* <div className=\"pt-3\">\n      <p>Artist: {artist}</p>\n      <p>Label: {label}</p>\n      <p>Price: {price}</p>\n    </div> */}\n    </Card>\n  );\n};\n\nexport default AdminProductCard;","import React, { useEffect, useState } from \"react\";\nimport AdminNav from \"../../../components/nav/AdminNav\";\nimport {\n  getProductsByCount,\n  fetchProductsByFilter\n} from './../../../functions/product';\nimport AdminProductCard from \"../../../components/cards/AdminProductCard\";\nimport { removeProduct } from './../../../functions/product';\n//import { useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport { Menu, Slider, Checkbox} from \"antd\";\nimport { EuroOutlined, DownSquareOutlined } from \"@ant-design/icons\";\nimport { getCategories } from './../../../functions/category'\nimport Search from './../../../components/forms/Search'\nimport { useSelector, useDispatch } from \"react-redux\";\n\nconst { SubMenu} = Menu;\n\nconst AllProducts = () => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n//from shop\nconst [price, setPrice] = useState([0, 0]);\nconst [ok, setOk] = useState(false);\nconst [categories, setCategories] = useState([]);\nconst [categoryIds, setCategoryIds] = useState([]);\n\nlet dispatch = useDispatch();\nlet { search } = useSelector((state) => ({ ...state }));\nconst { text } = search;\n\n\n\n\n\n\n\n  // redux\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadAllProducts();\n      //fetch categories\n      getCategories().then((res) => setCategories(res.data));\n  }, []);\n\n  const loadAllProducts = () => {\n    setLoading(true);\n    getProductsByCount(2000)\n      .then((res) => {\n        setProducts(res.data);\n        setLoading(false);\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n      });\n  };\n\n\n//from shop\n\n //load products based on user search input\n useEffect(() => {\n  const delayed = setTimeout(() => {\n    fetchProducts({ query: text });\n  }, 300);\n  return () => clearTimeout(delayed);\n}, [text]);\n\nconst fetchProducts = (arg) => {\n  fetchProductsByFilter(arg).then((res) => {\n    setProducts(res.data);\n  });\n};\n\n//load products based on price range\nuseEffect(() => {\n  console.log(\"ok to request\");\n  fetchProducts({ price });\n}, [ok]);\n\nconst handleSlider = (value) => {\n  dispatch({\n    type: \"SEARCH_QUERY\",\n    payload: { text: \"\" },\n  });\n  setCategoryIds([]);\n  setPrice(value);\n  setTimeout(() => {\n    setOk(!ok);\n  }, 300);\n};\n\n//load products based on category\nconst showCategories = () =>\n  categories.map((c) => (\n    <div key={c._id}>\n      <Checkbox\n        onChange={handleCheck}\n        className=\"pb-2 pl-4 pr-4\"\n        value={c._id}\n        name=\"category\"\n        checked={categoryIds.includes(c._id)}\n      >\n        {c.name}\n      </Checkbox>\n\n      <br />\n    </div>\n  ));\n\n// handle check for categories\nconst handleCheck = (e) => {\n  dispatch({\n      type: 'SEARCH_QUERY',\n      payload: {text: ''}\n  });\n  setPrice([0,0])\n//console.log(e.target.value)\nlet inTheState = [...categoryIds];\nlet justChecked = e.target.value;\nlet foundInTheState = inTheState.indexOf(justChecked); // will return true or -1\n\nif (foundInTheState === -1) {\n  inTheState.push(justChecked);\n} else {\n  inTheState.splice(foundInTheState, 1);\n}\n  setCategoryIds(inTheState);\n  console.log(inTheState);\n  fetchProducts({ category: inTheState });\n\n};\n\n\n\n  const handleRemove = (slug) => {\n    // let answer = window.confirm(\"Delete?\");\n    if (window.confirm(\"Delete?\")) {\n      // console.log(\"send delete request\", slug);\n      removeProduct(slug, user.token)\n        .then((res) => {\n          loadAllProducts();\n          toast.error(`${res.data.title} is deleted`);\n        })\n        .catch((err) => {\n          if (err.response.status === 400) toast.error(err.response.data);\n          console.log(err);\n        });\n    }\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <AdminNav />\n<br />\n<br />\n          <h5>Search / Filter / Sort</h5>\n          <hr />\n\n          <Menu defaultOpenKeys={[\"1\", \"2\"]} mode=\"inline\">\n         \n            <SubMenu\n              key=\"1\"\n              title={\n                <span className=\"h6\">\n                  <EuroOutlined /> Price\n                </span>\n              }\n            >\n              <div>\n                <Slider\n                  className=\"ml-4 mr-4\"\n                  tipFormatter={(value) => `${value}`}\n                  range\n                  value={price}\n                  onChange={handleSlider}\n                  max=\"1000\" //or find max price from db\n                />\n              </div>\n            </SubMenu>\n            {/* category */}\n            <SubMenu\n              key=\"2\"\n              title={\n                <span className=\"h6\">\n                  <DownSquareOutlined /> Categories\n                </span>\n              }\n            >\n              <div style={{ marginTop: \"-10px\" }}>{showCategories()}</div>\n            </SubMenu>\n          </Menu>\n\n\n\n\n\n\n\n\n\n\n\n        </div>\n\n        <div className=\"col\">\n          {loading ? (\n            <h4 className=\"text-danger\">Loading...</h4>\n          ) : (\n            <h4>All Products</h4>\n          )}\n          <div className=\"row\">\n            {products.map((product) => (\n              <div key={product._id} className=\"col-md-3 pb-3\">\n                <AdminProductCard\n                  product={product}\n                  handleRemove={handleRemove}\n                />\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AllProducts;","import React from \"react\";\nimport { Select } from \"antd\";\n\nconst { Option } = Select;\n\nconst ProductUpdateForm = ({\n  handleSubmit,\n  handleChange,\n  setValues,\n  values,\n  handleCategoryChange,\n  categories,\n  subOptions,\n  arrayOfSubs,\n  setArrayOfSubs,\n  selectedCategory,\n}) => {\n  // destructure\n  const {\n    title,\n    artist,\n    label,\n    description,\n    price,\n    category,\n    subs,\n    quantity,\n    sold,\n    catno,\n    sleeveCondition,\n    mediaCondition,\n    format,\n    sleeveConditions,\n    mediaConditions,\n    formats,\n    status,\n  } = values;\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <label>Title</label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          className=\"form-control\"\n          value={title}\n          onChange={handleChange}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label>Artist</label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          className=\"form-control\"\n          value={artist}\n          onChange={handleChange}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label>Label</label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          className=\"form-control\"\n          value={label}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Description</label>\n        <input\n          type=\"text\"\n          name=\"description\"\n          className=\"form-control\"\n          value={description}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Price</label>\n        <input\n          type=\"number\"\n          name=\"price\"\n          className=\"form-control\"\n          value={price}\n          onChange={handleChange}\n        />\n      </div>\n      \n      {/* <div className=\"form-group\">\n        <label>Shipping</label>\n        <select\n          value={shipping === \"Yes\" ? \"Yes\" : \"No\"}\n          name=\"shipping\"\n          className=\"form-control\"\n          onChange={handleChange}\n        >\n          <option value=\"No\">No</option>\n          <option value=\"Yes\">Yes</option>\n        </select>\n      </div> */}\n\n      <div className=\"form-group\">\n        <label>Quantity</label>\n        <input\n          type=\"number\"\n          name=\"quantity\"\n          className=\"form-control\"\n          value={quantity}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Status</label>\n        <input\n          type=\"text\"\n          name=\"status\"\n          className=\"form-control\"\n          value={status}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Format</label>\n        <select\n          value={format}\n          name=\"format\"\n          className=\"form-control\"\n          onChange={handleChange}\n        >\n          {formats.map((c) => (\n            <option key={c} value={c}>\n              {c}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label>Media Condition</label>\n        <select\n          value={mediaCondition}\n          name=\"mediaCondition\"\n          className=\"form-control\"\n          onChange={handleChange}\n        >\n          {mediaConditions.map((b) => (\n            <option key={b} value={b}>\n              {b}\n            </option>\n          ))}\n        </select>\n      </div>\n\n\n      <div className=\"form-group\">\n        <label>Sleeve Condition</label>\n        <select\n          value={sleeveCondition}\n          name=\"sleeveCondition\"\n          className=\"form-control\"\n          onChange={handleChange}\n        >\n          {sleeveConditions.map((b) => (\n            <option key={b} value={b}>\n              {b}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label>Category</label>\n        <select\n          name=\"category\"\n          className=\"form-control\"\n          onChange={handleCategoryChange}\n          value={selectedCategory ? selectedCategory : category._id}\n        >\n          {categories.length > 0 &&\n            categories.map((c) => (\n              <option key={c._id} value={c._id}>\n                {c.name}\n              </option>\n            ))}\n        </select>\n      </div>\n\n      {/* <div>\n        <label>Sub Categories</label>\n        <Select\n          mode=\"multiple\"\n          style={{ width: \"100%\" }}\n          placeholder=\"Please select\"\n          value={arrayOfSubs}\n          onChange={(value) => setArrayOfSubs(value)}\n        >\n          {subOptions.length &&\n            subOptions.map((s) => (\n              <Option key={s._id} value={s._id}>\n                {s.name}\n              </Option>\n            ))}\n        </Select>\n      </div> */}\n\n      <br />\n      <button className=\"btn btn-outline-info\">Save</button>\n    </form>\n  );\n};\n\nexport default ProductUpdateForm;\n","import React, { useState, useEffect } from \"react\";\nimport AdminNav from \"../../../components/nav/AdminNav\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\nimport { getProduct, updateProduct } from \"../../../functions/product\";\nimport { getCategories, getCategorySubs } from \"../../../functions/category\";\nimport FileUpload from \"../../../components/forms/FileUpload\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport ProductUpdateForm from \"../../../components/forms/ProductUpdateForm\";\n\nconst initialState = {\n  title: \"\",\n  description: \"\",\n  artist: '',\n  label: '',\n  catno: '',\n  formats: [' 12\" ', ' 7in\" '],\n  price: \"\",\n  category: \"\",\n  subs: [],\n\n  quantity: \"\",\n  images: [],\n  mediaConditions: [ \"New\", \"Mint\", 'Near Mint', \"VG+\", \"VG\"],\n  sleeveConditions: [ \"New\", \"Mint\", 'Near Mint', \"VG+\", \"VG\", \"Generic\"],\n  format: \"\",\n  mediaCondition: \"\",\n  sleeveCondition: \"\"\n  \n};\n\nconst ProductUpdate = ({ match, history }) => {\n  // state\n  const [values, setValues] = useState(initialState);\n  const [categories, setCategories] = useState([]);\n  const [subOptions, setSubOptions] = useState([]);\n  const [arrayOfSubs, setArrayOfSubs] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n\n  const { user } = useSelector((state) => ({ ...state }));\n  // router\n  const { slug } = match.params;\n\n  useEffect(() => {\n    loadProduct();\n    loadCategories();\n  }, []);\n\n  const loadProduct = () => {\n    getProduct(slug).then((p) => {\n      // console.log(\"single product\", p);\n      // 1 load single proudct\n      setValues({ ...values, ...p.data });\n      // 2 load single product category subs\n      // getCategorySubs(p.data.category._id).then((res) => {\n      //   setSubOptions(res.data); // on first load, show default subs\n      // });\n      // 3 prepare array of sub ids to show as default sub values in antd Select\n      // let arr = [];\n      // p.data.subs.map((s) => {\n      //   arr.push(s._id);\n      // });\n      // console.log(\"ARR\", arr);\n      // setArrayOfSubs((prev) => arr); // required for ant design select to work\n    });\n  };\n\n  const loadCategories = () =>\n    getCategories().then((c) => {\n      console.log(\"GET CATEGORIES IN UPDATE PRODUCT\", c.data);\n      setCategories(c.data);\n    });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true)\n    // values.subs = arrayOfSubs\n    values.category = selectedCategory ? selectedCategory : values.category;\n\n    updateProduct(slug, values, user.token)\n    .then(res => {\n      setLoading(false)\n      toast.success(`\"${res.data.title}\" is updated`)\n      history.push('/admin/products');\n    })\n    .catch(err => {\n      console.log(err);\n      setLoading(false)\n      toast.error(err.response.data.err);\n    });\n  };\n\n  const handleChange = (e) => {\n    setValues({ ...values, [e.target.name]: e.target.value });\n    // console.log(e.target.name, \" ----- \", e.target.value);\n  };\n\n  const handleCategoryChange = (e) => {\n    e.preventDefault();\n    console.log(\"CLICKED CATEGORY\", e.target.value);\n    setValues({ ...values });\n    // setValues({ ...values, subs: [] });\n\n    setSelectedCategory(e.target.value);\n\n    // getCategorySubs(e.target.value).then((res) => {\n    //   console.log(\"SUB OPTIONS ON CATGORY CLICK\", res);\n    //   setSubOptions(res.data);\n    // });\n\n    console.log(\"EXISTING CATEGORY values.category\", values.category);\n\n    // if user clicks back to the original category\n    // show its sub categories in default\n    // if (values.category._id === e.target.value) {\n    //   loadProduct();\n    // }\n    // clear old sub category ids\n    // setArrayOfSubs([]);\n  };\n \n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <AdminNav />\n        </div>\n\n        <div className=\"col-md-10\">\n          {loading ? (\n            <LoadingOutlined className=\"text-danger h1\" />\n          ) : (\n            <h4>Product update</h4>\n          )}\n          <hr />\n          <div className=\"p-3\">\n            <FileUpload\n              values={values}\n              setValues={setValues}\n              setLoading={setLoading}\n            />\n          </div>\n\n\n          <ProductUpdateForm\n            handleSubmit={handleSubmit}\n            handleChange={handleChange}\n            setValues={setValues}\n            values={values}\n            handleCategoryChange={handleCategoryChange}\n            categories={categories}\n            subOptions={subOptions}\n            arrayOfSubs={arrayOfSubs}\n            setArrayOfSubs={setArrayOfSubs}\n            selectedCategory={selectedCategory}\n          />\n          <hr />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductUpdate;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst ProductListItems = ({ product }) => {\n  const {\n    // price,\n    // category,\n    // subs,\n    // shipping,\n    // color,\n    // brand,\n    // sold,\n    // quantity,\n    title, artist, label, catno, format, price, mediaCondition, sleeveCondition, category, description, quantity, sold, subs\n  } = product;\n  return (\n    <ul className=\"list-group\">\n      <li className=\"list-group-item\">\n        Price{\" \"}\n        <span className=\"label-default label-pill pull-xs-right\">{price}</span>\n      </li>\n      {category && (\n        <li className=\"list-group-item\">\n          Category{\" \"}\n          <Link\n            to={`/category/${category.slug}`}\n            className=\" label label-default label-pill pull-xs-right\"\n          >\n            {category.name}\n          </Link>\n        </li>\n      )}\n{/* \n      {subs && (\n        <li className=\"list-group-item\">\n          Sub Categories\n          {subs.map((s) => (\n            <Link\n              key={s._id}\n              to={`/sub/${s.slug}`}\n              className=\"label-default label-pill pull-xs-right\"\n            >\n              {s.name}\n            </Link>\n          ))}\n        </li>\n      )} */}\n\n      {/* <li className=\"list-group-item\">\n        Shipping{\" \"}\n        <span className=\"label-default label-pill pull-xs-right\">{shipping}</span>\n      </li> */}\n      <li className=\"list-group-item\">\n        title{\" \"}\n        <span className=\"label-default label-pill pull-xs-right\">{title}</span>\n      </li><li className=\"list-group-item\">\n        artist{\" \"}\n        <span className=\"label-default label-pill pull-xs-right\">{artist}</span>\n      </li><li className=\"list-group-item\">\n        label{\" \"}\n        <span className=\"label-default label-pill pull-xs-right\">{label}</span>\n      </li>\n      <li className=\"list-group-item\">\n        Media Condition{\" \"}\n        <span className=\"label-default label-pill pull-xs-right\">{mediaCondition}</span>\n      </li>\n      <li className=\"list-group-item\">\n        Sleeve Condition{\" \"}\n        <span className=\"label-default label-pill pull-xs-right\">{sleeveCondition}</span>\n      </li>\n      <li className=\"list-group-item\">\n        Cat no.{\" \"}\n        <span className=\"label-default label-pill pull-xs-right\">{catno}</span>\n      </li>\n      <li className=\"list-group-item\">\n        Available{\" \"}\n        <span className=\"label-default label-pill pull-xs-right\">{quantity}</span>\n      </li>\n      <li className=\"list-group-item\">\n        Format{\" \"}\n        <span className=\"label-default label-pill pull-xs-right\">{format}</span>\n      </li>\n    </ul>\n  );\n};\n\nexport default ProductListItems;\n","import React, {useState} from \"react\";\nimport { Carousel } from \"react-responsive-carousel\";\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\nimport { Card, Tabs, Tooltip } from \"antd\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { HeartOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\nimport Record from \"./../../images/record.jpeg\";\nimport ProductListItems from \"./ProductListItems\";\nimport Sound from \"react-sound\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport _ from 'lodash'\nimport {useSelector, useDispatch} from 'react-redux'\nimport {addToWishlist} from './../../functions/user'\nimport { toast } from \"react-toastify\";\n\n\nconst { TabPane } = Tabs;\nconst SingleProduct = ({ product }) => {\n  const { title, description, images, sound } = product;\n    //tooltip\n    const [tooltip, setTooltip] = useState(\"Click to add\");\n    //redux\n    const {user, cart} = useSelector(state => ({...state}))\n    const dispatch = useDispatch()\n    // router\n    let history = useHistory()\n\n\n   \n\n    const handleAddToCart = () => {\n      let cart = [];\n      if (typeof window !== \"undefined\") {\n        if (localStorage.getItem(\"cart\")) {\n          cart = JSON.parse(localStorage.getItem(\"cart\"));\n        }\n        cart.push({\n          ...product,\n          count: 1,\n        });\n        let unique = _.uniqWith(cart, _.isEqual);\n        localStorage.setItem(\"cart\", JSON.stringify(unique));\n        setTooltip(\"Added\");\n  \n  \n        // add to redux state\n        dispatch({\n          type: \"ADD_TO_CART\",\n          payload: unique\n        })\n        dispatch({\n          type: \"SET_VISIBLE\",\n          payload: true\n        })\n      }\n    };\n\n    const handleAddToWishlist = (e) => {\n      e.preventDefault();\naddToWishlist(product._id, user.token).then(res => {\n  console.log('ADDED TO WISHLIST', res.data);\n  toast.success('Added to wishlist')\n  history.push('/user/wishlist')\n})\n    }\n\n\n  return (\n    <>\n      <div className=\"col-md-5\">\n        {images && images.length ? (\n          <div className=\"carousel-container\">\n            <Carousel showArrows={true} autoPlay infiniteLoop>\n              {images &&\n                images.map((i) => <img src={i.url} key={i.public_id} />)}\n            </Carousel>\n          </div>\n        ) : (\n          <Card cover={<img src={Record} className=\"mb-3 card-image\" />} />\n        )}\n      </div>\n\n      <div className=\"col-md-3\">\n        {/* <Tabs type=\"card\">\n          <TabPane tab=\"Description\" key=\"1\">\n            {description && description}\n\n            {/* <p>{description && description}</p> */}\n          {/* </TabPane>\n          <TabPane tab=\"Listening booth\" key=\"2\">\n            <ReactAudioPlayer src={product.sound} autoPlay controls />\n          </TabPane>\n        </Tabs> */}\n        <div>{description && description}</div>\n        <div className=\"pt-5\"><ReactAudioPlayer src={product.sound} autoPlay controls /></div>\n      </div>\n\n      <div className=\"col-md-4\">\n        <h1 className=\"bg-info p-3\">{title}</h1>\n        <Card\n          actions={[\n            <Tooltip title={tooltip}>\n            <a onClick={handleAddToCart}>\n              <ShoppingCartOutlined className=\"text-danger\" /> <br /> Add to\n              Cart\n            </a>\n          </Tooltip>,\n\n            <a onClick={handleAddToWishlist}>\n              <HeartOutlined className=\"text-info\" />\n              <br />\n              Add to Wishlist\n            </a>,\n          ]}\n        >\n          <ProductListItems product={product} />\n        </Card>\n      </div>\n    </>\n  );\n};\n\nexport default SingleProduct;\n","import React, {useEffect, useState} from 'react';\nimport {getProduct} from './../functions/product';\nimport SingleProduct from './../components/cards/SingleProduct'\n  import {listRelated} from './../functions/product.js'\n  import ProductCard from './../components/cards/ProductCard'\n \n\nconst Product = ({match}) => {\n    const [product, setProduct] = useState({})\nconst [related, setRelated] = useState([])\n    const {slug} = match.params;\n\n    useEffect(() => {\n        loadSingleProduct();\n    }, [slug])\n\n    const loadSingleProduct = () =>\n   { getProduct(slug).then((res) => {\nsetProduct(res.data);\n//load related as well\nlistRelated(res.data._id).then(res => setRelated(res.data))\n   });\n    }\n\n    return <div className=\"container-fluid\">\n        <div className=\"row pt-4\">\n            <SingleProduct product={product} />\n        </div>\n\n        <div className=\"row p-5\">\n            <div className=\"col text-center pt-5 pb-5\">\n                <hr/>\n                <h4>Related Products</h4>\n                <hr/>\n            </div>\n        </div>\n        <div className=\"row pb-5\">\n            {related.length ? related.map((r) => (<div key ={r._id} className='col-md-3'>\n                <ProductCard product={r}/>\n            </div>)) : <div className=\"text-center col \">'No products found'</div> }\n        </div>\n    </div> \n}\n\nexport default Product;","import React, { useState, useEffect } from \"react\";\nimport { getCategory } from \"../../functions/category\";\nimport ProductCard from \"../../components/cards/ProductCard\";\n\nconst CategoryHome = ({ match }) => {\n  const [category, setCategory] = useState({});\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const { slug } = match.params;\n\n  useEffect(() => {\n    setLoading(true);\n    getCategory(slug).then((res) => {\n      console.log(JSON.stringify(res.data, null, 4));\n      setCategory(res.data.category);\n      setProducts(res.data.products);\n      setLoading(false);\n    });\n  }, []);\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col\">\n          {loading ? (\n            <h4 className=\"text-center p-3 mt-5 mb-5 display-4 jumbotron\">\n              Loading...\n            </h4>\n          ) : (\n            <h4 className=\"text-center p-3 mt-5 mb-5 display-4 jumbotron\">\n              {products.length} Products in \"{category.name}\" category\n            </h4>\n          )}\n        </div>\n      </div>\n\n      <div className=\"row\">\n        {products.map((p) => (\n          <div className=\"col\" key={p._id}>\n            <ProductCard product={p} />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryHome;","import React, { useEffect, useState } from \"react\";\nimport {\n  getProductsByCount,\n  fetchProductsByFilter\n} from \"./../functions/product\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport ProductCard from \"./../components/cards/ProductCard\";\nimport { Menu, Slider, Checkbox} from \"antd\";\nimport { EuroOutlined, DownSquareOutlined } from \"@ant-design/icons\";\nimport { getCategories } from \"./../functions/category\";\nimport Search from './../components/forms/Search'\n\nconst { SubMenu} = Menu;\n\nconst Shop = () => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [price, setPrice] = useState([0, 0]);\n  const [ok, setOk] = useState(false);\n  const [categories, setCategories] = useState([]);\n  const [categoryIds, setCategoryIds] = useState([]);\n\n  let dispatch = useDispatch();\n  let { search } = useSelector((state) => ({ ...state }));\n  const { text } = search;\n\n  useEffect(() => {\n    loadAllProducts();\n    //fetch categories\n    getCategories().then((res) => setCategories(res.data));\n  }, []);\n\n  //load products on page load\n  const loadAllProducts = () => {\n   getProductsByCount(2000).then((p) => {\n       \n      setProducts(p.data);\n      setLoading(false);\n    });\n  };\n\n  //load products based on user search input\n  useEffect(() => {\n    const delayed = setTimeout(() => {\n      fetchProducts({ query: text });\n      if (!text) {loadAllProducts()}\n    }, 300);\n    return () => clearTimeout(delayed);\n  }, [text]);\n\n  const fetchProducts = (arg) => {\n    fetchProductsByFilter(arg).then((res) => {\n      setProducts(res.data);\n    });\n  };\n\n  //load products based on price range\n  useEffect(() => {\n    console.log(\"ok to request\");\n    fetchProducts({ price });\n  }, [ok]);\n\n  const handleSlider = (value) => {\n    dispatch({\n      type: \"SEARCH_QUERY\",\n      payload: { text: \"\" },\n    });\n    setCategoryIds([]);\n    setPrice(value);\n    setTimeout(() => {\n      setOk(!ok);\n    }, 300);\n  };\n\n  //load products based on category\n  const showCategories = () =>\n    categories.map((c) => (\n      <div key={c._id}>\n        <Checkbox\n          onChange={handleCheck}\n          className=\"pb-2 pl-4 pr-4\"\n          value={c._id}\n          name=\"category\"\n          checked={categoryIds.includes(c._id)}\n        >\n          {c.name}\n        </Checkbox>\n\n        <br />\n      </div>\n    ));\n// handle check for categories\n  const handleCheck = (e) => {\n      dispatch({\n          type: 'SEARCH_QUERY',\n          payload: {text: ''}\n      });\n      setPrice([0,0])\n    //console.log(e.target.value)\n    let inTheState = [...categoryIds];\n    let justChecked = e.target.value;\n    let foundInTheState = inTheState.indexOf(justChecked); // will return true or -1\n\n    if (foundInTheState === -1) {\n      inTheState.push(justChecked);\n    } else {\n      inTheState.splice(foundInTheState, 1);\n    }\n      setCategoryIds(inTheState);\n      console.log(inTheState);\n      fetchProducts({ category: inTheState });\n    \n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2 pt-2\">\n        <hr/>\n          <h5>Search / Filter / Sort</h5>\n          <hr />\n\n          <Menu defaultOpenKeys={[\"1\", \"2\"]} mode=\"inline\">\n          <Search className=\"m-4 pb-10\" />\n          <hr />\n            <SubMenu\n              key=\"1\"\n              title={\n                <span className=\"h6\">\n                  <EuroOutlined /> Price\n                </span>\n              }\n            >\n              <div>\n                <Slider\n                  className=\"ml-4 mr-4\"\n                  tipFormatter={(value) => `${value}`}\n                  range\n                  value={price}\n                  onChange={handleSlider}\n                  max=\"1000\" //or find max price from db\n                />\n              </div>\n            </SubMenu>\n            {/* category */}\n            <SubMenu\n              key=\"2\"\n              title={\n                <span className=\"h6\">\n                  <DownSquareOutlined /> Categories\n                </span>\n              }\n            >\n              <div style={{ marginTop: \"-10px\" }}>{showCategories()}</div>\n            </SubMenu>\n          </Menu>\n        </div>\n        {/* main window */}\n        <div className=\"col-md-9 pt-2\">\n          {loading ? (\n            <h4 className=\"text-danger\">Loading...</h4>\n          ) : (\n            <h4 className=\"text-danger\">Products</h4>\n          )}\n          {products.length < 1 && <p>No products found</p>}\n          <div className=\"row pb-5\">\n            {products.map((p) => (\n              <div className=\"col-md-3 pb-3\" key={p._id}>\n                <ProductCard product={p} />\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Shop;\n","import React from \"react\";\nimport ModalImage from \"react-modal-image\";\nimport Record from \"./../../images/record.jpeg\";\nimport { useDispatch } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport {CloseOutlined} from '@ant-design/icons'\n\nconst ProductCardInCheckout = ({ p }) => {\n  let dispatch = useDispatch();\n\n  const handleQuantityChange = e => {\n    let count = e.target.value < 1 ? 1 : e.target.value;\n    //let count = e.target.value\n\n    //CANT CHANGE INPUT FIELD WHEN THSI IS HERE......\n    if (count > p.quantity) {\n      toast.error(`Max available quantity : ${p.quantity}`);\n      return;\n    }\n\n    let cart = [];\n\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      }\n\n      cart.map((product, i) => {\n        if (product._id == p._id) {\n          cart[i].count = count;\n        }\n      });\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: cart,\n      });\n    }\n  };\nconst handleRemove=()=>{\n    let cart = [];\n\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      }\n\n      cart.map((product, i) => {\n        if (product._id === p._id) {\n          cart.splice(i,1);\n        }\n      });\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: cart,\n      });\n    } \n}\n  return (\n    <tbody>\n      <tr>\n        <td>\n          <div className=\"\" style={{ width: \"100px\", height: \"100px\" }}>\n            {p.images.length ? (\n              <ModalImage small={p.images[0].url} large={p.images[0].url} />\n            ) : (\n              <ModalImage small={Record} large={Record} />\n            )}\n          </div>\n        </td>\n        <td>{p.title}</td>\n        <td>{p.artist}</td>\n        <td>{p.label}</td>\n        <td>{p.price}</td>\n        {console.log(\"P.COUNT=======>\", p.count)}\n        {console.log(\"P.QUANTITY=======>\", p.quantity)}\n        <td className=\"text-center\" >\n          <input\n            type=\"number\"\n            className=\"form-control\"\n            value={p.count}\n            onChange={handleQuantityChange}\n          />\n        </td>\n        <td className=\"text-center\"><CloseOutlined  onClick={handleRemove} className=\"text-danger pointer\"/></td>\n      </tr>\n    </tbody>\n  );\n};\n\nexport default ProductCardInCheckout;\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport Product from \"./Product\";\nimport ProductCardInCheckout from './../components/cards/ProductCardInCheckout.js'\nimport {userCart} from './../functions/user'\n\nconst Cart = ({history}) => {\n  const { cart, user } = useSelector((state) => ({ ...state }));\n  const dispatch = useDispatch();\n\n\n  const getTotal = () => {\n    return cart.reduce((currentValue, nextValue) => {\n      return currentValue + nextValue.count * nextValue.price;\n    }, 0);\n  };\n\n\n  const saveOrderToDb = () => {\n//console.log(\"cart\", JSON.stringify(cart, null, 4));\nuserCart(cart, user.token)\n.then((res) => {\n    console.log('CART POST RESPONSE ------', res)\n    if (res.data.ok) history.push('/checkout');\n}).catch((err) => console.log('cart save error', err))\n    history.push('/checkout')\n  };\n  const showCartItems = () => (\n      <table className=\"table table-bordered\">\n          <thead className=\"thead-light\">\n              <tr>\n                  <th scope='col'>Image</th>\n                  <th scope='col'>Title</th>\n                  <th scope='col'>Artist</th>\n                  <th scope='col'>Label</th>\n                  <th scope='col'>Price</th>\n                  <th scope='col'>Count</th>\n                  <th scope='col'>Remove</th>\n           \n              </tr>\n          </thead>\n{cart.map((p)=>(\n    <ProductCardInCheckout key={p._id} p={p}/>\n    ))}\n\n      </table>\n  )\n\n \n\n  return (\n    <div className=\"container-fluid pt-2\">\n      <div className=\"row\">\n        <div className=\"col-md-8\">\n          <h4>Cart / {cart.length} products</h4>\n\n          {!cart.length ? (\n            <p>\n              No products in cart. <Link to=\"./shop\">Continue shopping</Link>\n            </p>\n          ) : (\n            showCartItems()\n          )}\n        </div>\n        <div className=\"col-md-4\">\n          <h4>Order Summary</h4>\n          <hr />\n          <p>Products</p>\n          {cart.map((c, i) => (\n            <div key={i}>\n              <p>\n                {c.title} x {c.count} = {c.price * c.count}\n              </p>\n            </div>\n          ))}\n          <hr />\n          Total: <b>{getTotal()}</b>\n          <hr />\n          {user ? (\n            <button\n              onClick={saveOrderToDb}\n              className=\"btn btn-sm btn-primary mt-2\"\n              disabled={!cart.length}\n            >\n              Proceed to checkout\n            </button>\n          ) : (\n            <button className=\"btn btn-sm btn-primary mt-2\">\n             <Link to={{\n                 pathname: '/login',\n                 state: {from: 'cart'}\n             }}> Login to checkout</Link>\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Cart;\n","import React, { useEffect, useState } from \"react\";\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\nimport \"react-quill/dist/quill.bubble.css\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport {\n  getUserCart,\n  emptyUserCart,\n  saveUserAddress,\n} from \"./../functions/user\";\n\nconst Checkout = ({history}) => {\n  const [products, setProducts] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [address, setAddress] = useState(\"test\");\n  const [addressSaved, setAddressSaved] = useState(false);\n\n  const dispatch = useDispatch();\n  const { user } = useSelector((state) => ({ ...state }));\n\n\n  //this runs when hit refresh page, want it to load on initial page render.....\n  useEffect(() => {\n    getUserCart(user.token).then((res) => {\n    //   console.log(\n    //     \"user cart response - in checkout page\",\n    //     JSON.stringify(res.data, null, 4)\n    //   ); //null & 4 are additional arguments given to JSON stringify to make it more readable\n      setProducts(res.data.products);\n      setTotal(res.data.cartTotal);\n    //   console.log(\"products in checkout\", products);\n   \n    });\n  }, []);\n  const emptyCart = () => {\n    if (typeof window !== \"undefined\") {\n      localStorage.removeItem(\"cart\");\n    }\n    // remove from redux\n    dispatch({\n      type: \"ADD_TO_CART\",\n      payload: [],\n    });\n    //remove from backend\n    emptyUserCart(user.token).then((res) => {\n      setProducts([]);\n      setTotal(0);\n      toast.success(\"Cart is empty. Continue shopping\");\n    });\n  };\n\n  const saveAddressToDb = () => {\n    console.log(\"address :\", address);\n    saveUserAddress(user.token, address).then((res) => {\n      if (res.data.ok) {\n        setAddressSaved(true);\n        toast.success(\"Address Saved\");\n      } else toast.warning(\"address not saved\");\n    });\n  };\n\n  return (\n    <div className=\"row\">\n      <div className=\"col-md-6\">\n        <h4>Delivery Address</h4>\n        <br />\n        <br />\n        <ReactQuill theme=\"snow\" value={address} onChange={setAddress} />\n        <button className=\"btn btn-primary mt-2\" onClick={saveAddressToDb}>\n          Save\n        </button>\n        <hr />\n      </div>\n      <div className=\"col-md-6\">\n        <h4>Order Summary</h4>\n        {/* {JSON.stringify({ products })} */}\n\n        <hr />\n        <p>Products {products.length} </p>\n\n        <hr />\n        {products.map((p, i) => (\n          <div key={i}>\n            {/* {console.log(\"p\", p)}\n            {console.log(\"p.product\", p.product)} */}\n            {/* {console.log(\"p\", p)} */}\n            <p>\n              {p.product.title} x {p.count} = {p.product.price * p.count}\n            </p>\n          </div>\n        ))}\n        <hr />\n        <p>Cart Total: {total}</p>\n\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <button\n              disabled={!addressSaved || !products.length}\n              className=\"btn btn-primary\"\n            onClick={() =>history.push('/payment')}\n            >\n              Place Order\n            </button>\n            <button\n              disabled={!products.length}\n              onClick={emptyCart}\n              className=\"btn btn-primary\"\n            >\n              Empty Cart\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Checkout;\n","import React, { useState, useEffect } from \"react\";\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { createPaymentIntent } from \"./../functions/stripe\";\nimport {Link} from 'react-router-dom'\nimport {createOrder, emptyUserCart} from './../functions/user'\n\nconst StripeCheckout = ({ history }) => {\n  const dispatch = useDispatch();\n  const { user } = useSelector((state) => ({ ...state }));\n\n  const [succeeded, setSucceeded] = useState(false);\n  const [error, setError] = useState(null);\n  const [processing, setProcessing] = useState(\"\");\n  const [disabled, setDisabled] = useState(true);\n  const [clientSecret, setClientSecret] = useState(\"\");\n\n  const [cartTotal, setCartTotal] = useState(0)\n\n  const stripe = useStripe();\n  const elements = useElements();\n\n  useEffect(() => {\n    createPaymentIntent(user.token).then((res) => {\n      console.log(\"create payment intent\", res.data);\n      setClientSecret(res.data.clientSecret);\n      console.log(\"client secret\", clientSecret);\n    });\n  }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setProcessing(true);\n    const payload = await stripe.confirmCardPayment(clientSecret, {\n      payment_method: {\n        card: elements.getElement(CardElement),\n        billing_details: {\n          name: e.target.name.value,\n        },\n      },\n    });\n    if (payload.error) {\n      setError(`Payment failed ${payload.error.message}`);\n      setProcessing(false);\n    } else {\n     console.log(JSON.stringify(payload, null, 4));\n      createOrder(payload, user.token)\n      .then(res => {\n        console.log(\"res.data\", res.data)\n        if(res.data.ok) {\n          if(typeof window !== 'undefined') localStorage.removeItem('cart');\n          dispatch({\n            type: 'ADD_TO_CART',\n            payload: []\n          })\n          emptyUserCart(user.token)\n        }\n      })\n      setError(null);\n      setProcessing(false);\n      setSucceeded(true);\n    }\n  };\n\n  const handleChange = async (e) => {\n    setDisabled(e.empty);\n    setError(e.error ? e.error.message : \"\");\n\n    //\n  };\n\n  const cartStyle = {\n    style: {\n      base: {\n        color: \"#32325d\",\n        fontFamily: \"Arial, sans-serif\",\n        fontSmoothing: \"antialiased\",\n        fontSize: \"16px\",\n        \"::placeholder\": {\n          color: \"#32325d\",\n        },\n      },\n      invalid: {\n        color: \"#fa755a\",\n        iconColor: \"#fa755a\",\n      },\n    },\n  };\n\n  return (\n    <>\n      <p className={succeeded ? \"result-message\" : \"result-message hidden\"}>\n        Payment successful <Link to='/user/history'>View your purchase history</Link>\n      </p>\n      <form id=\"payment-form\" className=\"stripe-form\" onSubmit={handleSubmit}>\n        <CardElement\n          id=\"card-element\"\n          options={cartStyle}\n          onChange={handleChange}\n        />\n        <button\n          className=\"stripe-button\"\n          disabled={processing || disabled || succeeded}\n        >\n          <span id=\"button-text\">\n            {processing ? <div className=\"spinner\" id=\"spinner\"></div> : \"Pay\"}\n          </span>\n        </button>\n        <br />\n        {error && (\n          <div className=\"card-error\" role=\"alert\">\n            {error}\n          </div>\n        )}\n      </form>\n    </>\n  );\n};\n\nexport default StripeCheckout;\n","import axios from \"axios\";\n\nexport const createPaymentIntent = (authtoken) =>\n  axios.post(\n    `${process.env.REACT_APP_API}/create-payment-intent`,\n    {},\n    { headers: { authtoken } }\n  );\n","import React from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport StripeCheckout from './../components/StripeCheckout'\nimport './../styles/stripe.css'\n\n//load stripe outside of components to avoid recreating stripe object in every render\nconst promise = loadStripe(process.env.REACT_APP_STRIPE_KEY);\n\nconst Payment = () => {\n  return (\n    <div className=\"container p-5 text-center\">\n    <h4>Compete your purchase</h4>\n      <Elements stripe={promise}>\n        <div className=\"col-md-8 offset-md-2\">\n         <StripeCheckout />\n        </div>\n      </Elements>\n    </div>\n  );\n};\nexport default Payment;\n","import React from \"react\";\nimport { Drawer, Button } from \"antd\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport Record from \"./../../images/record.jpeg\";\n\nconst imageStyle = {\n  width: \"100%\"\n};\nconst SideDrawer = () => {\n  const dispatch = useDispatch();\n  const { drawer, cart } = useSelector((state) => ({ ...state }));\n\n  return (\n    <Drawer\n      className=\"text-center\"\n      title={`Cart / ${cart.length} products`}\n      placement=\"right\"\n      // closeable= \"false\"\n      onClose={() => {\n        dispatch({\n          type: \"SET_VISIBLE\",\n          payload: false,\n        });\n      }}\n      visible={drawer}\n    >\n      {cart.map((p) => (\n        <div key={p._id} className=\"row\">\n          <div className=\"col\">\n            {p.images[0] ? (\n                <>  \n              <img src={p.images[0].url} style={imageStyle} alt=\"\" />\n              <p className=\"text-center bg-secondary text-light\">{p.title} x {p.count}</p> </>\n            \n ) : (<>\n              <img src={Record} style={imageStyle} alt=\"\" />\n              <p className=\"text-center bg-secondary text-light\">{p.title} x {p.count}</p>\n              </>\n            )}\n          </div>\n        </div>\n      ))}\n\n      <Link to='/cart' >\n          <button onClick={() =>\n          dispatch({\n              type: \"SET_VISIBLE\",\n              payload: false\n          })} \n          className=\"btn btn-raised btn-primary btn-block text-center\">\nGo To Cart\n          </button>\n      </Link>\n    </Drawer>\n  );\n};\n\nexport default SideDrawer;\n","import React, { useEffect } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport './../src/App.css'\n\nimport Login from \"./pages/auth/Login\";\nimport Register from \"./pages/auth/Register\";\nimport Home from \"./pages/Home\";\nimport Header from \"./components/nav/Header\";\nimport RegisterComplete from \"./pages/auth/RegisterComplete\";\nimport ForgotPassword from \"./pages/auth/ForgotPassword\";\nimport History from \"./pages/user/History\";\nimport UserRoute from \"./components/routes/UserRoute\";\nimport AdminRoute from \"./components/routes/AdminRoute\";\nimport Password from \"./pages/user/Password\";\nimport Wishlist from \"./pages/user/Wishlist\";\nimport AdminDashboard from \"./pages/admin/AdminDashboard\";\nimport CategoryCreate from \"./pages/admin/category/CategoryCreate\";\nimport CategoryUpdate from \"./pages/admin/category/CategoryUpdate\";\nimport SubCreate from \"./pages/admin/sub/SubCreate\";\nimport SubUpdate from \"./pages/admin/sub/SubUpdate\";\nimport ProductCreate from \"./pages/admin/product/ProductCreate\";\nimport AllProducts from \"./pages/admin/product/AllProducts\";\nimport ProductUpdate from \"./pages/admin/product/ProductUpdate\";\nimport Product from './pages/Product'\nimport CategoryHome from './pages/category/CategoryHome'\nimport SubHome from './pages/sub/SubHome'\nimport Shop from './pages/Shop'\nimport Cart from './pages/Cart'\nimport Checkout from './pages/Checkout'\nimport Payment from './pages/Payment'\nimport SideDrawer from './components/drawer/SideDrawer'\n\nimport { auth } from \"./firebase\";\nimport { useDispatch } from \"react-redux\";\nimport { currentUser } from \"./functions/auth\";\n\nconst App = () => {\n  const dispatch = useDispatch();\n\n  // to check firebase auth state\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(async (user) => {\n      if (user) {\n        const idTokenResult = await user.getIdTokenResult();\n        console.log(\"user\", user);\n\n        currentUser(idTokenResult.token)\n          .then((res) => {\n            dispatch({\n              type: \"LOGGED_IN_USER\",\n              payload: {\n                name: res.data.name,\n                email: res.data.email,\n                token: idTokenResult.token,\n                role: res.data.role,\n                _id: res.data._id,\n              },\n            });\n          })\n          .catch((err) => console.log(err));\n      }\n    });\n    // cleanup\n    return () => unsubscribe();\n  }, [dispatch]);\n\n  return (\n    <>\n      <Header />\n      <SideDrawer />\n      <ToastContainer />\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/login\" component={Login} />\n        <Route exact path=\"/register\" component={Register} />\n        <Route exact path=\"/register/complete\" component={RegisterComplete} />\n        <Route exact path=\"/forgot/password\" component={ForgotPassword} />\n        <UserRoute exact path=\"/user/history\" component={History} />\n        <UserRoute exact path=\"/user/password\" component={Password} />\n        <UserRoute exact path=\"/user/wishlist\" component={Wishlist} />\n        <AdminRoute exact path=\"/admin/dashboard\" component={AdminDashboard} />\n        {/* <AdminRoute exact path=\"/admin/dashboard\" component={AllProducts} /> */}\n\n        <AdminRoute exact path=\"/admin/category\" component={CategoryCreate} />\n        <AdminRoute\n          exact\n          path=\"/admin/category/:slug\"\n          component={CategoryUpdate}\n        />\n        {/* <AdminRoute exact path=\"/admin/sub\" component={SubCreate} /> */}\n        {/* <AdminRoute exact path=\"/admin/sub/:slug\" component={SubUpdate} /> */}\n        <AdminRoute exact path=\"/admin/product\" component={ProductCreate} />\n        <AdminRoute exact path=\"/admin/products\" component={AllProducts} />\n        <AdminRoute\n          exact\n          path=\"/admin/product/:slug\"\n          component={ProductUpdate}\n        />\n        <Route exact path='/product/:slug' component={Product} />\n        <Route exact path='/category/:slug' component={CategoryHome} />\n        {/* <Route exact path='/sub/:slug' component={SubHome} /> */}\n        <Route exact path='/shop' component={Shop} />\n        <Route exact path='/cart' component={Cart} />\n        <UserRoute exact path=\"/checkout\" component={Checkout} />\n        <UserRoute exact path=\"/payment\" component={Payment} />\n\n\n\n      </Switch>\n    </>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const searchReducer = (state = { text: \"\" }, action) => {\n  switch (action.type) {\n    case \"SEARCH_QUERY\": //\n      return { ...state, ...action.payload }; //payload\n\n    default:\n      return state;\n  }\n};\n","let initialState = []\n\n//load cart items from local storage\nif (typeof window !== 'undefined') {\n    if(localStorage.getItem('cart')) {\n        initialState = JSON.parse(localStorage.getItem('cart'))\n    } else {\n        initialState= [];\n    }\n}\n\nexport const cartReducer = (state = initialState, action) => {\n    switch (action.type) {\n      case \"ADD_TO_CART\": //\n        return action.payload; //payload\n  \n      default:\n        return state;\n    }\n  };","import {combineReducers} from 'redux';\nimport {userReducer} from './userReducer'\nimport {searchReducer} from './searchReducer'\nimport {cartReducer} from './cartReducer'\nimport {drawerReducer} from './drawerReducer'\n\nconst rootReducer = combineReducers({\n    user: userReducer,\n    search: searchReducer,\n    cart: cartReducer,\n    drawer: drawerReducer\n});\n\nexport default rootReducer;","export function userReducer(state = null, action) {\n    switch(action.type){\n        case 'LOGGED_IN_USER': //\n            return action.payload //payload\n        case 'LOGOUT':\n            return action.payload;\n\n            default :\n            return state;\n    }\n}","\n\nexport const drawerReducer = (state = false, action) => {\n    switch (action.type) {\n      case \"SET_VISIBLE\": //\n        return action.payload; //payload\n  \n      default:\n        return state;\n    }\n  };","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport \"./styles/index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"antd/dist/antd.css\";\nimport rootReducer from \"./reducers\";\n\n// store\nconst store = createStore(rootReducer, composeWithDevTools());\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}