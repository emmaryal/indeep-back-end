{"version":3,"sources":["firebase.js","functions/auth.js","pages/auth/Login.js","pages/auth/Register.js","images/record.jpeg","components/cards/ProductCard.js","functions/product.js","components/cards/LoadingCard.js","components/Home/BestSellers.js","components/cards/Jumbotron.js","components/Home/NewArrivals.js","functions/category.js","components/category/CategoryList.js","pages/Home.js","components/forms/Search.js","components/nav/Header.js","pages/auth/RegisterComplete.js","pages/auth/ForgotPassword.js","components/nav/UserNav.js","functions/user.js","components/cards/ShowPaymentInfo.js","components/order/Invoice.js","pages/user/History.js","components/routes/LoadingToRedirect.js","components/routes/UserRoute.js","components/routes/AdminRoute.js","pages/user/Password.js","pages/user/Wishlist.js","components/nav/AdminNav.js","functions/admin.js","components/order/Orders.js","pages/admin/AdminDashboard.js","components/forms/CategoryForm.js","components/forms/LocalSearch.js","pages/admin/category/CategoryCreate.js","pages/admin/category/CategoryUpdate.js","components/forms/ProductCreateForm.js","components/forms/FileUpload.js","pages/admin/product/ProductCreate.js","components/cards/AdminProductCard.js","pages/admin/product/AllProducts.js","components/forms/ProductUpdateForm.js","pages/admin/product/ProductUpdate.js","components/cards/ProductListItems.js","components/cards/SingleProduct.js","pages/Product.js","pages/category/CategoryHome.js","pages/Shop.js","components/cards/ProductCardInCheckout.js","pages/Cart.js","pages/Checkout.js","components/StripeCheckout.js","functions/stripe.js","pages/Payment.js","components/drawer/SideDrawer.js","App.js","reportWebVitals.js","reducers/searchReducer.js","reducers/cartReducer.js","reducers/index.js","reducers/userReducer.js","reducers/drawerReducer.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","googleAuthProvider","GoogleAuthProvider","createOrUpdateUser","authtoken","a","axios","post","process","headers","currentUser","currentAdmin","Login","history","useState","email","setEmail","password","setPassword","loading","setLoading","user","useSelector","state","useEffect","location","token","push","dispatch","useDispatch","roleBasedRedirect","res","intended","from","data","role","handleSubmit","e","preventDefault","signInWithEmailAndPassword","result","console","log","getIdTokenResult","idTokenResult","then","type","payload","name","_id","catch","err","toast","error","message","googleLogin","signInWithPopup","id","className","onSubmit","value","onChange","target","placeholder","autoFocus","onClick","block","shape","icon","MailOutlined","size","disabled","length","GoogleOutlined","to","Register","config","url","handleCodeInApp","sendSignInLinkToEmail","success","window","localStorage","setItem","ProductCard","Card","Meta","product","images","slug","title","description","artist","label","price","setTooltip","cart","src","record","style","height","width","EyeOutlined","getItem","JSON","parse","count","unique","_","uniqWith","isEqual","stringify","quantity","ShoppingCartOutlined","createProduct","getProductsByCount","get","removeProduct","delete","getProduct","updateProduct","put","getProducts","sort","order","page","getProductsCount","listRelated","productId","fetchProductsByFilter","arg","LoadingCard","totalCards","i","active","cards","BestSellers","products","setProducts","setPage","productsCount","setProductsCount","loadAllProducts","map","current","total","Jumbotron","text","options","strings","autoStart","loop","NewArrivals","getCategories","getCategory","removeCategory","updateCategory","category","createCategory","CategoryList","setCategories","c","Home","font","Search","search","useHistory","SearchOutlined","SubMenu","Menu","Item","Header","setCurrent","key","selectedKeys","mode","HomeOutlined","ShoppingOutlined","offset","UserAddOutlined","UserOutlined","SettingOutlined","split","LogoutOutlined","signOut","RegisterComplete","signInWithEmailLink","href","emailVerified","removeItem","updatePassword","ForgotPassword","sendPasswordResetEmail","UserNav","userCart","getUserCart","emptyUserCart","saveUserAddress","address","createOrder","stripeResponse","getUserOrders","getWishlist","removeFromWishlist","addToWishlist","ShowPaymentInfo","showStatus","paymentIntent","amount","toLocaleString","currency","toUpperCase","payment_method_types","status","Date","created","orderStatus","styles","StyleSheet","create","body","paddingTop","paddingBottom","paddingHorizontal","fontSize","textAlign","author","marginBottom","subtitle","margin","image","marginVertical","marginHorizontal","header","color","footer","padding","pageNumber","position","bottom","left","right","Invoice","fixed","getContent","x","History","orders","setOrders","loadUserOrders","showOrderInTable","scope","p","showDownloadLink","document","fileName","LoadingToRedirect","setCount","interval","setInterval","currentCount","clearInterval","UserRoute","children","rest","AdminRoute","ok","setOk","Password","Wishlist","wishlist","setWishlist","loadWishlist","DeleteOutlined","AdminNav","getOrders","changeStatus","orderId","Orders","handleStatusChange","defaultValue","AdminDashboard","loadOrders","CategoryForm","setName","required","LocalSearch","keyword","setKeyword","toLowerCase","CategoryCreate","categories","loadCategories","handleRemove","confirm","response","filter","includes","searched","EditOutlined","CategoryUpdate","match","loadCategory","params","ProductCreateForm","Select","Option","handleChange","values","setValues","handleCategoryChange","subOptions","showSub","subs","format","mediaCondition","sleeveCondition","mediaConditions","sleeveConditions","formats","catno","b","FileUpload","public_id","filteredImages","item","cursor","multiple","hidden","accept","files","allUploadedFiles","Resizer","imageFileResizer","uri","initialState","ProductCreate","LoadingOutlined","alert","reload","AdminProductCard","cover","actions","AllProducts","setPrice","categoryIds","setCategoryIds","delayed","setTimeout","fetchProducts","query","clearTimeout","handleCheck","inTheState","justChecked","foundInTheState","indexOf","splice","defaultOpenKeys","EuroOutlined","tipFormatter","range","max","DownSquareOutlined","marginTop","checked","ProductUpdateForm","selectedCategory","arrayOfSubs","setArrayOfSubs","sold","ProductUpdate","setSelectedCategory","loadProduct","ProductListItems","SingleProduct","Tabs","TabPane","sound","tooltip","showArrows","autoPlay","infiniteLoop","Record","controls","HeartOutlined","Product","setProduct","related","setRelated","loadSingleProduct","r","CategoryHome","setCategory","Shop","display","ProductCardInCheckout","small","large","CloseOutlined","Cart","reduce","currentValue","nextValue","pathname","Checkout","setTotal","setAddress","addressSaved","setAddressSaved","cartTotal","theme","warning","StripeCheckout","succeeded","setSucceeded","setError","processing","setProcessing","setDisabled","clientSecret","setClientSecret","stripe","useStripe","elements","useElements","confirmCardPayment","payment_method","card","getElement","CardElement","billing_details","empty","base","fontFamily","fontSmoothing","invalid","iconColor","promise","loadStripe","Payment","imageStyle","SideDrawer","drawer","placement","onClose","visible","alt","App","unsubscribe","onAuthStateChanged","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","store","createStore","composeWithDevTools","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.4a6e2158.chunk.js","sourcesContent":["// import * as firebase from 'firebase';\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\n  // Your web app's Firebase configuration\n  const firebaseConfig = {\n    apiKey: \"AIzaSyBIbwwrFQIL6aBUG_5dkP65UtnG-_E0jyM\",\n    authDomain: \"indeep-3ec84.firebaseapp.com\",\n    databaseURL:\"https://indeep-3ec84-default-rtdb.europe-west1.firebasedatabase.app\",\n    projectId: \"indeep-3ec84\",\n    storageBucket: \"indeep-3ec84.appspot.com\",\n    messagingSenderId: \"77708790062\",\n    appId: \"1:77708790062:web:131c03f849690e3a6352bf\"\n  };\n  // Initialize Firebase\n  firebase.initializeApp(firebaseConfig);\n\n  export const auth = firebase.auth();\n  export const googleAuthProvider = new firebase.auth.GoogleAuthProvider();\n\n","import axios from \"axios\";\n\nexport const createOrUpdateUser = async (authtoken) => {\n  return await axios.post(\n    `${process.env.REACT_APP_API}/create-or-update-user`,\n    {},\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n};\n\nexport const currentUser = async (authtoken) => {\n  return await axios.post(\n    `${process.env.REACT_APP_API}/current-user`,\n    {},\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n};\n\nexport const currentAdmin = async (authtoken) => {\n  return await axios.post(\n    `${process.env.REACT_APP_API}/current-admin`,\n    {},\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { auth, googleAuthProvider } from \"../../firebase\";\nimport { toast } from \"react-toastify\";\nimport { Button } from \"antd\";\nimport {\n  MailOutlined,\n  LogoutOutlined,\n  UserOutlined,\n  UserAddOutlined,\n  SettingOutlined,\n  HomeOutlined,\n  GoogleOutlined,\n} from \"@ant-design/icons\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nimport { createOrUpdateUser } from \"./../../functions/auth\";\n\nconst Login = ({ history }) => {\n  const [email, setEmail] = useState(\"emma.ryal@gmail.com\");\n  const [password, setPassword] = useState(\"123456\");\n  const [loading, setLoading] = useState(false);\n\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    let intended = history.location.state;\n    if (intended) {\n      return;\n    } else {}\n    if (user && user.token) history.push(\"/\");\n  }, [user, history]);\n\n  let dispatch = useDispatch();\n\n  const roleBasedRedirect = (res) => {\n    let intended = history.location.state;\n    if (intended) {\n      history.push(intended.from);\n    } else\n{    if (res.data.role === \"admin\") {\n      history.push(\"/admin/dashboard\");\n    } else {\n      history.push(\"user/history\");}\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const result = await auth.signInWithEmailAndPassword(email, password);\n      console.log(\"result :\", result);\n      const { user } = result;\n      const idTokenResult = await user.getIdTokenResult();\n\n      createOrUpdateUser(idTokenResult.token)\n        .then((res) => {\n          console.log(\"CREATE OR UPDATE RES : \", res);\n          dispatch({\n            type: \"LOGGED_IN_USER\",\n            payload: {\n              name: res.data.name,\n              email: res.data.email,\n\n              token: idTokenResult.token,\n              role: res.data.role,\n              _id: res.data._id,\n            },\n          });\n          roleBasedRedirect(res)\n        })\n        .catch((err) => console.log(err));\n\n      history.push(\"/\");\n    } catch (error) {\n      console.log(error);\n      toast.error(error.message);\n      setLoading(false);\n    }\n  };\n  const googleLogin = async () => {\n    auth\n      .signInWithPopup(googleAuthProvider)\n      .then(async (result) => {\n        const { user } = result;\n        const idTokenResult = await user.getIdTokenResult();\n        createOrUpdateUser(idTokenResult.token)\n          .then((res) => {\n            console.log(\"CREATE OR UPDATE RES : \", res);\n            dispatch({\n              type: \"LOGGED_IN_USER\",\n              payload: {\n                name: res.data.name,\n                email: res.data.email,\n\n                token: idTokenResult.token,\n                role: res.data.role,\n                id: res.data.id,\n              },\n            });\n         roleBasedRedirect(res);\n          })\n          .catch((err) => console.log(err));\n\n        //history.push(\"/\");\n      })\n      .catch((error) => {\n        console.log(error);\n        toast.error(error.message);\n      });\n  };\n  const loginForm = () => (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <input\n          type=\"email\"\n          className=\"form-control\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"Your email\"\n          autoFocus\n        />\n      </div>\n      <br />\n      <div className=\"form-group\">\n        <input\n          type=\"password\"\n          className=\"form-control\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          placeholder=\"Your password\"\n        />\n      </div>\n      <br />\n      <Button\n        onClick={handleSubmit}\n        type=\"primary\"\n        className=\"mb-3\"\n        block\n        shape=\"round\"\n        icon={<MailOutlined />}\n        size=\"large\"\n        disabled={!email || password.length < 6}\n      >\n        Login with Email/Password\n      </Button>\n    </form>\n  );\n\n  return (\n    <div>\n      <div className=\"container p-5\">\n        <div className=\"row\">\n          <div className=\"col-md-6 offset-md-3\">\n            {loading ? (\n              <h4 className=\"text-danger\">loading...</h4>\n            ) : (\n              <h4>Login</h4>\n            )}\n\n            {loginForm()}\n            <Button\n              onClick={googleLogin}\n              type=\"danger\"\n              className=\"mb-3\"\n              block\n              shape=\"round\"\n              icon={<GoogleOutlined />}\n              size=\"large\"\n            >\n              Login with Google\n            </Button>\n\n            <Link to=\"/forgot/password\" className=\"float-right text-danger\">\n              Forgot Password\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, {useState, useEffect} from 'react';\nimport {auth} from '../../firebase';\nimport {toast} from 'react-toastify';\nimport {useSelector} from 'react-redux'\n\n\nconst Register = ({history}) => {\n   const [email, setEmail] = useState(\"\");\n\n   const {user} = useSelector(state =>({...state}));\n\n   useEffect(() =>{\n     if(user && user.token) history.push('/');\n   }, [user, history])\n \n\n   const handleSubmit = async(e) => { \n       e.preventDefault()\n       const config={\n           url: process.env.REACT_APP_REGISTER_REDIRECT_URL,\n           handleCodeInApp: true\n       };\n       await auth.sendSignInLinkToEmail(email, config);\n       toast.success(\n           `Email is sent to ${email}. Click the link to complete your registration.`\n           );\n  \n   //save user email to local storage\n   window.localStorage.setItem('emailForRegistration', email);\n   // clear the state\n   setEmail('');\n};\n    const registerForm = () => \n        <form onSubmit = {handleSubmit}>\n            <input \n            type=\"email\" \n            className=\"form-control\" \n            value = {email} \n            onChange = {(e) => setEmail(e.target.value)}\n            placeholder=\"Your email\"\n            autoFocus\n            />\n<br />\n            <button type=\"submit\" className=\"btn btn-raised\">Register</button>\n        </form>\n    \n    return (\n\n        <div>\n            <div className=\"container p-5\">\n                <div className=\"row\">\n                    <div className=\"col-md-6 offset-md-3\">\n                        <h4>Register</h4>\n                        \n                        {registerForm()}\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    );\n\n\n};\n\nexport default Register;","export default \"data:image/jpeg;base64,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\"","import React, { useState } from \"react\";\nimport { Card, Tooltip } from \"antd\";\nimport { EyeOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\nimport record from \"./../../images/record.jpeg\";\nimport { Link } from \"react-router-dom\";\nimport _ from \"lodash\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nconst { Meta } = Card;\n\nconst ProductCard = ({ product }) => {\n  //destructure\n  const { images, title, description, slug, artist, label, price } = product;\n  //tooltip\n  const [tooltip, setTooltip] = useState(\"Click to add\");\n  //redux\n  const { user, cart } = useSelector((state) => ({ ...state }));\n  const dispatch = useDispatch();\n\n  const handleAddToCart = () => {\n    let cart = [];\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      }\n      cart.push({\n        ...product,\n        count: 1,\n      });\n      let unique = _.uniqWith(cart, _.isEqual);\n      localStorage.setItem(\"cart\", JSON.stringify(unique));\n      setTooltip(\"Added\");\n\n      // add to redux state\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: unique,\n      });\n      dispatch({\n        type: \"SET_VISIBLE\",\n        payload: true,\n      });\n    }\n  };\n\n  return (\n    <div className=\"product-card-image\">\n      \n          <img\n            src={images && images.length ? images[0].url : record}\n            style={{ height: \"250px\", width: \"250px\" }}\n            \n          />\n        \n\n        \n        <div className=\"product-card-text\" style={{ height: \"250px\", width: \"250px\" }}>\n          <br/><br/><p>{product.title}</p>\n          <p>{product.artist}</p>\n          <p>€{product.price}</p>\n          <br/>\n          <Link to={`/product/${slug}`}>\n            <EyeOutlined className=\"text-warning\" />   View Product\n          </Link><br />\n          <a onClick={handleAddToCart}disabled={product.quantity < 1}>\n              <ShoppingCartOutlined className=\"text-danger\" /> \n              {product.quantity <1 ? '   Out of Stock' :'   Add to Cart'}\n            </a> \n            \n            </div>\n        </div>\n       \n    \n  );\n};\n{\n  /* <Card\n      style={{ width: '250px', height: '250px' }}\n        cover={\n          <img\n            src={images && images.length ? images[0].url : record}\n            style={{ height: \"250px\", width: '250px',\n            // objectFit: \"cover\" \n            }}\n            className=\"p-1\"\n          />\n        }\n        actions={[\n          <Link to={`/product/${slug}`}>\n            <EyeOutlined className=\"text-warning\" /> <br /> View Product\n          </Link>,\n          <Tooltip title={tooltip}>\n            <a onClick={handleAddToCart}disabled={product.quantity < 1}>\n              <ShoppingCartOutlined className=\"text-danger\" /> <br /> \n              {product.quantity <1 ? 'Out of Stock' :'Add to Cart'}\n            </a>\n          </Tooltip>,\n        ]}\n      >\n        {/* <Meta\n          title={title}\n\n          // artist={artist}\n          // label={label}\n        /> */\n}\n{\n  /* <div className=\"pt-3\">\n      <p>Artist: {artist}</p>\n      <p>Label: {label}</p>\n      <p>Price: €{price}</p>\n    </div> */\n}\n// </Card> */}\n\nexport default ProductCard;\n","import axios from \"axios\";\n\nexport const createProduct = async (product, authtoken) =>\n  await axios.post(`${process.env.REACT_APP_API}/product`, product, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const getProductsByCount = async (count) =>\n  await axios.get(`${process.env.REACT_APP_API}/products/${count}`);\n\nexport const removeProduct = async (slug, authtoken) =>\n  await axios.delete(`${process.env.REACT_APP_API}/product/${slug}`, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const getProduct = async (slug) =>\n  await axios.get(`${process.env.REACT_APP_API}/product/${slug}`);\n\nexport const updateProduct = async (slug, product, authtoken) =>\n  await axios.put(`${process.env.REACT_APP_API}/product/${slug}`, product, {\n    headers: {\n      authtoken,\n    },\n  });\n\n  export const getProducts = async (sort, order, page) =>\n  await axios.post(`${process.env.REACT_APP_API}/products`,\n  {sort, order, page} \n    \n  );\n\n  export const getProductsCount = async (slug) =>\n  await axios.get(`${process.env.REACT_APP_API}/products/total`);\n\n  export const listRelated = async (productId) =>\n  await axios.get(`${process.env.REACT_APP_API}/product/related/${productId}`);\n\n\n  export const fetchProductsByFilter = async (arg) =>\n  await axios.post(`${process.env.REACT_APP_API}/search/filters`, arg);\n","import React from \"react\";\nimport {Card, Skeleton } from \"antd\";\nimport { EyeOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\nimport record from \"./../../images/record.jpeg\";\nimport { Link } from \"react-router-dom\";\n\nconst LoadingCard = ({count}) => {\n\n    const cards = () => {\n        let totalCards = [];\n\n        for (let i=0; i<count; i++) {\n            totalCards.push(\n            <Card className= 'col-md-3' key={i}>\n                <Skeleton active></Skeleton>\n            </Card>\n            );\n        }\n        return totalCards;\n    };\n    return <div className= 'row pb-5'>{cards()}</div>;\n};\nexport default LoadingCard;\n","import React, { useEffect, useState } from \"react\";\nimport ProductCard from \"./../cards/ProductCard\";\nimport { getProducts, getProductsCount } from \"./../../functions/product\";\nimport LoadingCard from \"./../cards/LoadingCard\";\nimport { Pagination } from \"antd\";\n\nconst BestSellers = () => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [page, setPage] = useState(1);\n  const [productsCount, setProductsCount] = useState(1);\n\n\n  useEffect(() => {\n    loadAllProducts();\n  }, [page]);\n\n  useEffect(() => {\n    getProductsCount().then((res) => setProductsCount(res.data));\n  }, []);\n\n  const loadAllProducts = () => {\n    setLoading(true);\n    // sort, order, limit\n    getProducts('sold', 'desc', page).then((res) => {\n      setProducts(res.data);\n      setLoading(false);\n    });\n  };\n\n  return (\n    <>\n   \n\n      <div className=\"container\">\n        {loading ? (\n          <LoadingCard count={4} />\n        ) : (\n          <div className=\"row\">\n            {products.map((product) => (\n              <div key={product._id} className=\"col-md-3\">\n                <ProductCard product={product} />\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      <div className=\"row\">\n<nav className=\"col-md-4 offset-md-4 text-center pt-5 p-3\">\n\n<Pagination\n        current={page}\n        total={(productsCount / 4) * 10}\n        onChange={(value) => setPage(value)}\n      />\n</nav>\n\n      </div>\n    </>\n  );\n};\n\nexport default BestSellers;\n","import React from 'react'\nimport Typewriter from 'typewriter-effect'\n\nconst Jumbotron = ({text}) => (\n    <Typewriter options={{\n        strings: text,\n        autoStart: true,\n        loop: true\n    }} />\n)\n\nexport default Jumbotron","import React, { useEffect, useState } from \"react\";\nimport ProductCard from \"./../cards/ProductCard\";\nimport { getProducts, getProductsCount } from \"./../../functions/product\";\nimport LoadingCard from \"./../cards/LoadingCard\";\nimport { Pagination } from \"antd\";\n\nconst NewArrivals = () => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [page, setPage] = useState(1);\n  const [productsCount, setProductsCount] = useState(1);\n\n  useEffect(() => {\n    loadAllProducts();\n  }, [page]);\n\n  useEffect(() => {\n    getProductsCount().then((res) => setProductsCount(res.data));\n  }, []);\n\n  const loadAllProducts = () => {\n    setLoading(true);\n    // sort, order, limit\n    getProducts(\"createdAt\", \"desc\", page).then((res) => {\n      setProducts(res.data);\n      setLoading(false);\n    });\n  };\n\n  return (\n    <>\n      <div className=\"container\">\n        {loading ? (\n          <LoadingCard count={4} />\n        ) : (\n          <div className=\"row\">\n            {products.map((product) => (\n              <div key={product._id} className=\"col-md-3\">\n                <ProductCard product={product} />\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n      <div className=\"row\">\n<nav className=\"col-md-4 offset-md-4 text-center pt-5 p-3\">\n\n{/* <Pagination\n        current={page}\n        total={(productsCount / 4) * 10}\n        onChange={(value) => setPage(value)}\n      /> */}\n</nav>\n\n      </div>\n   \n    </>\n  );\n};\n\nexport default NewArrivals;\n","import axios from \"axios\";\n\nexport const getCategories = async () =>\n  await axios.get(`${process.env.REACT_APP_API}/categories`);\n\nexport const getCategory = async (slug) =>\n  await axios.get(`${process.env.REACT_APP_API}/category/${slug}`);\n\nexport const removeCategory = async (slug, authtoken) =>\n  await axios.delete(`${process.env.REACT_APP_API}/category/${slug}`, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const updateCategory = async (slug, category, authtoken) =>\n  await axios.put(`${process.env.REACT_APP_API}/category/${slug}`, category, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const createCategory = async (category, authtoken) =>\n  await axios.post(`${process.env.REACT_APP_API}/category`, category, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const getCategorySubs = async (_id) =>\n  await axios.get(`${process.env.REACT_APP_API}/category/subs/${_id}`);","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { getCategories } from \"./../../functions/category\";\n\nconst CategoryList = () => {\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    getCategories().then((c) => {\n      setCategories(c.data);\n      setLoading(false);\n    });\n  }, []);\n  const showCategories = () =>\n  categories.map((c) => (\n    <div key={c._id}className=\"col btn btn-outlined-primary btn-lg btn-block btn-raised m-3\">\n<Link to={`/category/${c.slug}`}>{c.name}</Link>  \n    </div>\n  ));\n\n\n\n  \n\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        {loading ? (\n          <h4 className=\"text-center\">Loading...</h4>\n        ) : (\n          <select name=\"\" id=\"\">\n          <option >\n          <Link to=\"/\">House</Link>  \n      </option>\n      <option >\n        Techno\n      </option>\n      <option >\n       Dub\n      </option>\n      <option >\n       Hip Hop\n      </option>\n            \n          </select>\n          \n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryList;\n","import React, { useEffect, useState } from \"react\";\nimport BestSellers from \"./../components/Home/BestSellers\";\nimport Jumbotron from \"./../components/cards/Jumbotron\";\nimport NewArrivals from \"./../components/Home/NewArrivals\";\nimport CategoryList from \"./../components/category/CategoryList\";\nimport SubList from \"./../components/sub/SubList\";\n\nconst Home = () => {\n  return (\n    <>\n      <div\n        className=\"jumbotron h2 text-center font-weight-bold\"\n        style={{ font: \"AmericanTypewriter\" }}\n      >\n        <Jumbotron text={[\"InDeep Records\", \"Rare & Hard to Find Vinyl\"]} />\n      </div>\n\n      <h5 className=\"text-center p-3 mt-5 mb-5 display-3 jumbotron \">\n        Categories\n      </h5>\n      <CategoryList />\n\n      <h5 className=\"text-center  p-3 mt-5 mb-5 display-3 jumbotron \">\n        New Arrivals\n      </h5>\n      <NewArrivals />\n\n      <h5 className=\"text-center p-3 mt-5 mb-5 display-3 jumbotron \">\n        Best Sellers\n      </h5>\n      <BestSellers />\n\n     \n{/* \n      <h4 className=\"text-center p-3 mt-5 mb-5 display-3 jumbotron \">\n        Sub Categories\n      </h4>\n      <SubList />\n\n      <br />\n      <br /> */}\n    </>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { SearchOutlined } from \"@ant-design/icons\";\n\nconst Search = () => {\n  const dispatch = useDispatch();\n  const { search } = useSelector((state) => ({ ...state }));\n  const { text } = search;\n  const history = useHistory();\n\n  const handleChange = (e) => {\n      dispatch({\n          type: 'SEARCH_QUERY',\n          payload: {text: e.target.value}\n      })\n  };\n\n  const handleSubmit = (e) => {\n      e.preventDefault()\n      history.push(`/shop?${text}`);\n  };\n\n  return (\n    <form className=\"form-inline my-2 my-lg-0\" onSubmit={handleSubmit}>\n      <input\n      onChange={handleChange}\n        type=\"search\"\n        value={text}\n        className=\"form-control mr-sm-2\"\n        placeholder=\"Search\"\n      />\n      <SearchOutlined />\n    </form>\n  );\n};\n\nexport default Search;\n","import React, {useState} from 'react'\nimport {Menu, Badge} from 'antd'\nimport { \n    MailOutlined, LogoutOutlined,\n    UserOutlined, UserAddOutlined,\n    SettingOutlined, HomeOutlined , ShoppingOutlined, ShoppingCartOutlined\n} from '@ant-design/icons';\nimport {Link} from 'react-router-dom';\nimport firebase from 'firebase'\nimport {useDispatch, useSelector} from 'react-redux'\nimport {useHistory} from 'react-router-dom'\nimport Search from '../../components/forms/Search'\n\nconst { SubMenu, Item } = Menu; //Menu.SubMenu\n\n\nconst Header = () => {\n const [current, setCurrent] = useState('home') // same as using state in class based components\n let dispatch = useDispatch();\n let {user, cart} = useSelector((state)=>({...state}))\n let history= useHistory();\n\n const handleClick = (e) => {\n     setCurrent(e.key);\n } \n const logout = () => {\n     firebase.auth().signOut()\n     dispatch ({\n         type: \"LOGOUT\",\n         payload: null,\n     });\nhistory.push('/login');\n };\n return (\n    <Menu onClick={handleClick} selectedKeys={[current]} mode=\"horizontal\">\n    <Item key=\"home\" icon={<HomeOutlined />}>\n      <Link to=\"/\">   Home  </Link>\n    </Item>\n\n    <Item key=\"shop\" icon={<ShoppingOutlined />}>\n      <Link to=\"/shop\">   Shop  </Link>\n    </Item>\n\n    <Item key=\"cart\" icon={<ShoppingCartOutlined />}>\n      <Link to=\"/cart\"> \n      <Badge count={cart.length} offset={[9,0]} >\n      Cart \n      </Badge>\n        \n      </Link>\n    </Item>\n\n\n\n\n    {!user && (<Item key=\"register\" icon={<UserAddOutlined />}className='float-right'>\n    <Link to=\"/register\">   Register </Link>\n    </Item>)}\n    {!user && (<Item key=\"login\" icon={<UserOutlined />}className='float-right'>\n    <Link to=\"/login\">   Login </Link>\n    </Item>)}\n    \n   {user && (\n    <SubMenu \n    icon={<SettingOutlined />} \n    title={user.email && user.email.split('@')[0]}\n    className=\"float-right\">\n      \n        {user && user.role === 'subscriber' && (\n            <Item>\n                <Link to='/user/history'>Dashboard</Link>\n            </Item>\n        )}\n\n        {user && user.role === 'admin' && (\n            <Item>\n                <Link to='/admin/dashboard'>Dashboard</Link>\n            </Item>\n        )}\n       \n        <Item icon={<LogoutOutlined />} onClick={logout}>Logout</Item>\n      \n     \n    </SubMenu>)}\n    \n\n<span className=\"float-right p-1\">\n    <Search />\n</span>\n\n  </Menu>\n\n   )\n}\n\nexport default Header;\n","import React, { useState, useEffect } from \"react\";\nimport { auth } from \"../../firebase\";\nimport { toast } from \"react-toastify\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport {createOrUpdateUser} from './../../functions/auth'\n\n\nconst RegisterComplete = ({ history }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const { user } = useSelector((state) => ({ ...state }));\n  let dispatch = useDispatch();\n\n  useEffect(() => {\n    setEmail(window.localStorage.getItem(\"emailForRegistration\"));\n    // console.log(window.location.href);\n    // console.log(window.localStorage.getItem(\"emailForRegistration\"));\n  }, [history]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    // validation\n    if (!email || !password) {\n      toast.error(\"Email and password is required\");\n      return;\n    }\n\n    if (password.length < 6) {\n      toast.error(\"Password must be at least 6 characters long\");\n      return;\n    }\n\n    try {\n      const result = await auth.signInWithEmailLink(\n        email,\n        window.location.href\n      );\n      //   console.log(\"RESULT\", result);\n      if (result.user.emailVerified) {\n        // remove user email fom local storage\n        window.localStorage.removeItem(\"emailForRegistration\");\n        // get user id token\n        let user = auth.currentUser;\n        await user.updatePassword(password);\n        const idTokenResult = await user.getIdTokenResult();\n        // redux store\n        console.log(\"user\", user, \"idTokenResult\", idTokenResult);\n       \n        createOrUpdateUser(idTokenResult.token)\n        .then((res) => {\n          dispatch({\n            type: \"LOGGED_IN_USER\",\n            payload: {\n              email: res.data.email,\n              name: res.data.name,\n              token: idTokenResult.token,\n              role: res.data.role,\n              _id: res.data._id,\n            },\n          });\n        })\n        .catch(err => console.log(err));\n       \n        // redirect\n        history.push(\"/\");\n      }\n    } catch (error) {\n      console.log(error);\n      toast.error(error.message);\n    }\n  };\n\n  const completeRegistrationForm = () => (\n    <form onSubmit={handleSubmit}>\n      <input type=\"email\" className=\"form-control\" value={email} disabled />\n\n      <input\n        type=\"password\"\n        className=\"form-control\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n        placeholder=\"Password\"\n        autoFocus\n      />\n      <br />\n      <button type=\"submit\" className=\"btn btn-raised\">\n        Complete Registration\n      </button>\n    </form>\n  );\n\n  return (\n    <div className=\"container p-5\">\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-md-3\">\n          <h4>Register Complete</h4>\n          {completeRegistrationForm()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RegisterComplete;","import React, { useState, useEffect } from \"react\";\nimport { auth } from \"../../firebase\";\nimport { toast } from \"react-toastify\";\n\nimport { useSelector } from \"react-redux\";\n\nconst ForgotPassword = ({ history }) => {\n  const [email, setEmail] = useState(\"\");\n  const [loading, setLoading] = useState(false);\nconst {user} = useSelector(state =>({...state}));\n\n  useEffect(() =>{\n    if(user && user.token) history.push('/');\n  }, [user, history])\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    const config = {\n      url: process.env.REACT_APP_FORGOT_PASSWORD_REDIRECT,\n      handleCodeInApp: true,\n    };\n    await auth\n      .sendPasswordResetEmail(email, config)\n      .then(() => {\n          setEmail('');\n          setLoading(false);\n          toast.success('Check your email for password reset link');\n      })\n      .catch((error) => {\n        setLoading(false);\n        toast.error(error.message);\n      });\n  };\n\n  return (\n    <div className=\"container col-md-6 offset-md-3 p-5\">\n      {loading ? (\n        <h4 className=\"text-danger\">Loading</h4>\n      ) : (\n        <h4>Forgot Password</h4>\n      )}\n\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"email\"\n          className=\"form-control\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"Type your email\"\n          autoFocus\n        />\n        <br />\n        <button className=\"btn btn-raised\" disabled={!email}>\n          Submit\n        </button>\n      </form>\n    </div>\n  );\n};\nexport default ForgotPassword;\n","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nconst UserNav = () => (\n\n    <nav>\n       <ul className=\"nav flex-column\">\n           <li className=\"nav-item\">\n               <Link to='/user/history'className='nav-link'>History</Link>\n           </li>\n\n           <li className=\"nav-item\">\n               <Link to='/user/password'className='nav-link'>Password</Link>\n           </li>\n\n           <li className=\"nav-item\">\n               <Link to='/user/wishlist'className='nav-link'>Wish List</Link>\n           </li>\n\n       </ul>\n    </nav>\n)\n\nexport default UserNav","import axios from \"axios\";\n\nexport const userCart = async (cart, authtoken) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/user/cart`,\n    { cart },\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n\nexport const getUserCart = async (authtoken) =>\n  await axios.get(`${process.env.REACT_APP_API}/user/cart`, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const emptyUserCart = async (authtoken) =>\n  await axios.delete(`${process.env.REACT_APP_API}/user/cart`, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const saveUserAddress = async (authtoken, address) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/user/address`,\n    { address },\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n\nexport const createOrder = async (stripeResponse, authtoken) =>\n  await axios.post(\n    `${process.env.REACT_APP_API}/user/order`,\n    { stripeResponse },\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n\nexport const getUserOrders = async (authtoken) =>\n  await axios.get(`${process.env.REACT_APP_API}/user/orders`, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const getWishlist = async (authtoken) =>\n  await axios.get(`${process.env.REACT_APP_API}/user/wishlist`, {\n    headers: {\n      authtoken,\n    },\n  });\n\nexport const removeFromWishlist = async (productId, authtoken) =>\n  await axios.put(\n    `${process.env.REACT_APP_API}/user/wishlist/${productId}`,\n    {  },\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n\n\nexport const addToWishlist = async (productId, authtoken) =>\nawait axios.post(\n  `${process.env.REACT_APP_API}/user/wishlist`,\n  { productId },\n  {\n    headers: {\n      authtoken,\n    },\n  }\n);\n","import { OrderedListOutlined } from \"@ant-design/icons\";\nimport react from \"react\";\n\n\nconst ShowPaymentInfo = ({ order, showStatus = true }) => (\n  <div className=\"\">\n    <p>\n      <span>Order Id: {order.paymentIntent.id}</span>\n      {\" / \"}\n      <span>\n        Amount:{\" / \"}\n        {(order.paymentIntent.amount /= 100).toLocaleString(\"en-UK\", {\n          style: \"currency\",\n          currency: \"EUR\",\n        })}\n      </span>\n      {\" / \"}\n      <span>Currency: {order.paymentIntent.currency.toUpperCase()}</span>\n      {\" / \"}\n      <span>Method: {order.paymentIntent.payment_method_types[0]}</span>\n      {\" / \"}\n      <span>Payment: {order.paymentIntent.status.toUpperCase()}</span>\n      {\" / \"}\n      <span>\n        Ordered On:{\" \"}\n        {new Date(order.paymentIntent.created * 1000).toLocaleString()}\n      </span>\n      {\" / \"}\n      <br/>\n      {showStatus ? <span className=\"badge bg-primary text-white\">\n        STATUS: {order.orderStatus}\n      </span> : null }\n    </p>\n  </div>\n);\nexport default ShowPaymentInfo;\n","import React from \"react\";\nimport { Document, Page, Text, StyleSheet } from \"@react-pdf/renderer\";\nimport {\n  Table,\n  TableHeader,\n  TableCell,\n  TableBody,\n  DataTableCell,\n} from \"@david.kucsai/react-pdf-table\";\n\nconst Invoice = ({ order }) => (\n  <Document>\n    <Page style={styles.body}>\n      <Text style={styles.header} fixed>\n        ~ {new Date().toLocaleString()} ~\n      </Text>\n      <Text style={styles.title}>Order Invoice</Text>\n      <Text style={styles.author}>Indeep Records</Text>\n      <Text style={styles.subtitle}>Order Summary</Text>\n\n      <Table>\n        <TableHeader>\n          <TableCell>Title</TableCell>\n          <TableCell>Artist</TableCell>\n          <TableCell>Label</TableCell>\n          <TableCell>Count</TableCell>\n          <TableCell>Price</TableCell>\n        </TableHeader>\n      </Table>\n\n      <Table data={order.products}>\n        <TableBody>\n          <DataTableCell getContent={(x) => x.product.title} />\n          <DataTableCell getContent={(x) => x.product.artist} />\n          <DataTableCell getContent={(x) => x.product.label} />\n          <DataTableCell getContent={(x) => x.count} />\n          <DataTableCell getContent={(x) => `€${x.product.price}`} />\n        </TableBody>\n      </Table>\n\n      <Text style={styles.text}>\n        <Text>\n          Date: {\"               \"}\n          {new Date(order.paymentIntent.created * 1000).toLocaleString()}\n        </Text>\n        {\"\\n\"}\n        <Text>\n          Order Id: {\"         \"}\n          {order.paymentIntent.id}\n        </Text>\n        {\"\\n\"}\n        <Text>\n          Order Status: {\"  \"}\n          {order.orderStatus}\n        </Text>\n        {\"\\n\"}\n        <Text>\n          Total Paid: {\"       \"}€{order.paymentIntent.amount}\n        </Text>\n      </Text>\n\n      <Text style={styles.footer}> ~ Thank you for shopping with us ~ </Text>\n    </Page>\n  </Document>\n);\n\nconst styles = StyleSheet.create({\n  body: {\n    paddingTop: 35,\n    paddingBottom: 65,\n    paddingHorizontal: 35,\n  },\n  title: {\n    fontSize: 24,\n    textAlign: \"center\",\n  },\n  author: {\n    fontSize: 12,\n    textAlign: \"center\",\n    marginBottom: 40,\n  },\n  subtitle: {\n    fontSize: 18,\n    margin: 12,\n  },\n  text: {\n    margin: 12,\n    fontSize: 14,\n    textAlign: \"justify\",\n  },\n  image: {\n    marginVertical: 15,\n    marginHorizontal: 100,\n  },\n  header: {\n    fontSize: 12,\n    marginBottom: 20,\n    textAlign: \"center\",\n    color: \"grey\",\n  },\n  footer: {\n    padding: \"100px\",\n    fontSize: 12,\n    marginBottom: 20,\n    textAlign: \"center\",\n    color: \"grey\",\n  },\n  pageNumber: {\n    position: \"absolute\",\n    fontSize: 12,\n    bottom: 30,\n    left: 0,\n    right: 0,\n    textAlign: \"center\",\n    color: \"grey\",\n  },\n});\n\nexport default Invoice;\n","import React, { useState, useEffect } from \"react\";\nimport UserNav from \"./../../components/nav/UserNav\";\nimport { getUserOrders } from \"./../../functions/user\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { CheckCircleOutlined, CloseCircleOutlined } from \"@ant-design/icons\";\nimport { toast } from \"react-toastify\";\nimport ShowPaymentInfo from \"./../../components/cards/ShowPaymentInfo\";\nimport { PDFDownloadLink } from \"@react-pdf/renderer\";\nimport Invoice from \"./../../components/order/Invoice\";\n\nconst History = () => {\n  const [orders, setOrders] = useState([]);\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadUserOrders();\n  }, []);\n\n  const loadUserOrders = () =>\n    getUserOrders(user.token).then((res) => {\n      console.log(JSON.stringify(res.data, null, 4));\n      setOrders(res.data);\n    });\n\n  const showOrderInTable = (order) => (\n    <table className=\"table table-bordered\">\n      <thead className=\"thead-light\">\n        <tr>\n          <th scope=\"col\">Title</th>\n          <th scope=\"col\">Artist</th>\n          <th scope=\"col\">Label</th>\n          <th scope=\"col\">Price</th>\n          <th scope=\"col\">Count</th>\n         \n        </tr>\n      </thead>\n\n      <tbody>\n        {order.products.map((p, i) => (\n          <tr key={i}>\n            <td>\n              <b>{p.product.title}</b>\n            </td>\n            <td>{p.product.artist}</td>\n            <td>{p.product.label}</td>\n            <td>€{p.product.price}</td>\n            <td>{p.count}</td>\n         \n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n\n  const showDownloadLink = (order) => (\n    <PDFDownloadLink\n      document={<Invoice order={order} />}\n      fileName=\"invoice.pdf\"\n      className=\"btn btn-sm btn-block btn-outline-primary\"\n    >\n      Download PDF\n    </PDFDownloadLink>\n  );\n\n  const showEachOrders = () =>\n    orders.map((order, i) => (\n      <div key={i} className=\"m-5 p-3 card\">\n        <ShowPaymentInfo order={order} />\n        {showOrderInTable(order)}\n        <div className=\"row\">\n          <div className=\"col\">{showDownloadLink(order)}</div>\n        </div>\n      </div>\n    ));\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <UserNav />\n        </div>\n        <div className=\"col text-center\">\n          <h4>\n            {orders.length > 0 ? \"User purchase orders\" : \"No purchase orders\"}\n          </h4>\n          {showEachOrders()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default History;","import React, {useState, useEffect} from 'react';\nimport {useHistory} from 'react-router-dom';\n\nconst LoadingToRedirect = () => {\n    const [count, setCount] = useState(5);\n    let history = useHistory();\n\n    useEffect(() => {\n\n        const interval = setInterval(() => {\n            setCount((currentCount)=> --currentCount);\n            //\n        }, 1000);\n        // redirect when count is zero\n        count ===0 && history.push('/');\n        // cleanup\n        return () => clearInterval(interval);\n    }, [count]);\n\n    return (\n        <div className=\"container p-5 text-center\">\n            <p>Redirecting you in {count} seconds</p>\n        </div>\n    )\n};\n\nexport default LoadingToRedirect;","import React from \"react\";\nimport { Route, Link } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport LoadingToRedirect from \"./LoadingToRedirect\";\n\nconst UserRoute = ({ children, ...rest }) => {\n  const { user } = useSelector((state) => ({ ...state }));\n  return user && user.token ? (\n    <Route {...rest} />\n  ) : (\n    <LoadingToRedirect />\n  );\n};\nexport default UserRoute;\n","import React, { useEffect, useState } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport LoadingToRedirect from \"./LoadingToRedirect\";\nimport { currentAdmin } from \"../../functions/auth\";\n\nconst AdminRoute = ({ children, ...rest }) => {\n  const { user } = useSelector((state) => ({ ...state }));\n  const [ok, setOk] = useState(false);\n\n  useEffect(() => {\n    if (user && user.token) {\n      currentAdmin(user.token)\n        .then((res) => {\n          console.log(\"CURRENT ADMIN RES\", res);\n          setOk(true);\n        })\n        .catch((err) => {\n          console.log(\"ADMIN ROUTE ERR\", err);\n          setOk(false);\n        });\n    }\n  }, [user]);\n\n  return ok ? <Route {...rest} /> : <LoadingToRedirect />;\n};\n\nexport default AdminRoute;\n","import React, {useState} from 'react'\nimport UserNav from './../../components/nav/UserNav'\nimport {auth} from './../../firebase';\nimport {toast} from 'react-toastify'\n\nconst Password = () => \n{\n    const [password, setPassword] = useState('');\n    const [loading, setLoading] = useState(false);\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setLoading(true)\n        await auth.currentUser.updatePassword(password)\n        .then(() => {\n            setLoading(false);\n            setPassword('');\n            toast.success('Password updated')\n        })\n        .catch(err => {\n            setLoading(false)\n            toast.error(err.message)\n\n        })\n    }\n\n    const passwordUpdateForm =  () => (\n        <form onSubmit = {handleSubmit}>\n        <div className=\"form-group\">\n            <label>Your Password</label>\n            <input type=\"password\" \n            onChange={(e)=> setPassword(e.target.value)}\n            className='form-control'\n            placeholder='Enter new password' \n            disabled={loading}\n            value={password}\n            />\n            <button className=\"btn btn-primary\" disabled={!password || password.length < 6 || loading}>Submit</button>\n        </div>\n        </form>\n    )\n    return(\n    <div className=\"container-fluid\">\n    \n    <div className=\"row\">\n    <div className=\"col md-2\">\n        <UserNav />\n    </div>\n        \n            <div className=\"col\">\n            {loading ? <h4 className='text-danger'> Loading...</h4> : <h4>Password Update</h4>}\n            {passwordUpdateForm()}\n            \n            </div>\n        </div>\n    </div>\n)}\n\nexport default Password;","import React, { useState, useEffect } from \"react\";\nimport UserNav from \"./../../components/nav/UserNav\";\nimport { getWishlist, removeFromWishlist } from \"./../../functions/user\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport {DeleteOutlined} from '@ant-design/icons'\nconst Wishlist = () => {\n  const [wishlist, setWishlist] = useState([]);\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadWishlist();\n  }, []);\n\n  const loadWishlist = () =>\n    getWishlist(user.token).then((res) => {\n      console.log(res);\n      setWishlist(res.data.wishlist);\n    });\n\n  const handleRemove = (productId) =>\n    removeFromWishlist(productId, user.token).then((res) => {\n      loadWishlist();\n    });\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <UserNav />\n        </div>\n\n        <div className=\"col-md-10\">\n          <h4>Wishlist</h4>\n          {wishlist.map((p) => (\n            <div key={p._id} className=\"alert alert-secondary\">\n            <Link to={`/product/${p.slug}`}>\n              {p.slug}\n                {p.title} ~ {p.artist} ~ {p.label}\n              </Link>\n\n              \n              <span\n                onClick={() => handleRemove(p._id)}\n                className=\"btn btn-sm float-right\"\n              ><DeleteOutlined className='text-danger' /></span>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Wishlist;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst AdminNav = () => (\n  <nav>\n    <ul className=\"nav flex-column\">\n      <li className=\"nav-item\">\n        <Link to=\"/admin/dashboard\" className=\"nav-link\">\n          Dashboard\n        </Link>\n      </li>\n\n    \n\n      <li className=\"nav-item\">\n        <Link to=\"/admin/product\" className=\"nav-link\">\n          Product\n        </Link>\n      </li>\n\n      <li className=\"nav-item\">\n        <Link to=\"/admin/products\" className=\"nav-link\">\n          Products\n        </Link>\n      </li>\n\n      <li className=\"nav-item\">\n        <Link to=\"/admin/category\" className=\"nav-link\">\n          Category\n        </Link>\n      </li>\n{/* \n      <li className=\"nav-item\">\n        <Link to=\"/admin/sub\" className=\"nav-link\">\n          Sub Category\n        </Link>\n      </li>\n\n      <li className=\"nav-item\">\n        <Link to=\"/admin/coupon\" className=\"nav-link\">\n          Coupon\n        </Link>\n      </li> */}\n\n      <li className=\"nav-item\">\n        <Link to=\"/user/password\" className=\"nav-link\">\n          Password\n        </Link>\n      </li>\n    </ul>\n  </nav>\n);\n\nexport default AdminNav;","import axios from \"axios\";\n\nexport const getOrders = async (authtoken) =>\n  await axios.get(`${process.env.REACT_APP_API}/admin/orders`, {\n    headers: { authtoken },\n  });\n\nexport const changeStatus = async (orderId, orderStatus, authtoken) =>\n  await axios.put(`${process.env.REACT_APP_API}/admin/order-status`, {orderId, orderStatus},{\n    headers: { authtoken },\n  });\n","import React from \"react\";\n// import {CheckCircleOutlined, CloseCircleOutlined} from '@ant-design/icons'\nimport ShowPaymentInfo from \"./../../components/cards/ShowPaymentInfo\";\n\nconst Orders = ({ orders, handleStatusChange }) => {\n\n    const showOrderInTable = (order) => (\n        <table className=\"table table-bordered\">\n          <thead className=\"thead-light\">\n            <tr>\n              <th scope=\"col\">Title</th>\n              <th scope=\"col\">Artist</th>\n              <th scope=\"col\">Label</th>\n              <th scope=\"col\">Price</th>\n              <th scope=\"col\">Count</th>\n             \n            </tr>\n          </thead>\n    \n          <tbody>\n            {order.products.map((p, i) => (\n              <tr key={i}>\n                <td>\n                  <b>{p.product.title}</b>\n                </td>\n                <td>{p.product.artist}</td>\n                <td>{p.product.label}</td>\n                <td>€{p.product.price}</td>\n                <td>{p.count}</td>\n             \n              </tr>\n            ))}\n          </tbody>\n        </table>\n      );\n\n\n\n   return (<>\n    {orders.map((order) => (\n      <div className=\"row pb-5\" key={order._id}>\n        <div className=\"btn btn-block bg-light\">\n          <ShowPaymentInfo order={order} showStatus={false}/>\n          <div className=\"row\">\n            <div className=\"col-md-4\">Delivery Status</div>\n            <div className=\"col-md-8\">\n              <select\n                className=\"form-control\"\n                onChange={(e) => handleStatusChange(order._id, e.target.value)}\n                name=\"status\"\n                defaultValue={order.orderStatus}\n              >\n                <option value=\"Not Processed\">Not Processed</option>\n                <option value=\"Processing\">Processing</option>\n                <option value=\"Dispatched\">Dispatched</option>\n                <option value=\"Cancelled\">Cancelled</option>\n                <option value=\"Competed\">Competed</option>\n              </select>\n            </div>\n          </div>\n        </div>\n        {showOrderInTable(order)}\n      </div>\n    ))}\n  </>)\n};\nexport default Orders;\n","import React, {useState, useEffect} from \"react\";\nimport AdminNav from './../../components/nav/AdminNav'\nimport {getOrders, changeStatus} from './../../functions/admin'\nimport {useSelector, useDispatch} from 'react-redux'\nimport {toast} from 'react-toastify'\nimport Orders from './../../components/order/Orders.js'\n\n\nconst AdminDashboard = () => {\n  const [orders, setOrders] = useState([])\n  const {user} = useSelector((state) => ({...state}))\n\n  useEffect(() => {\n    loadOrders();\n  }, []);\n\nconst loadOrders = () => \ngetOrders(user.token).then((res) => {\n  console.log(JSON.stringify(res.data, null, 4))\n  setOrders(res.data)\n})\n\nconst handleStatusChange = (orderId, orderStatus) => {\n  changeStatus(orderId, orderStatus, user.token).then(res => {\n    toast.success('Status updated');\n    loadOrders()\n  })\n}\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <AdminNav />\n        </div>\n\n        <div className=\"col\">\n          <h4>Admin Dashboard</h4>\n          {/* {JSON.stringify(orders)} */}\n\n          <Orders orders={orders} handleStatusChange={handleStatusChange} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminDashboard;\n","import React from \"react\";\n\nconst CategoryForm = ({ handleSubmit, name, setName }) => (\n  <form onSubmit={handleSubmit}>\n    <div className=\"form-group\">\n      <label>Name</label>\n      <input\n        type=\"text\"\n        className=\"form-control\"\n        onChange={(e) => setName(e.target.value)}\n        value={name}\n        autoFocus\n        required\n      />\n      <br />\n      <button className=\"btn btn-outline-primary\">Save</button>\n    </div>\n  </form>\n);\n\nexport default CategoryForm;","import React from \"react\";\n\nconst LocalSearch = ({keyword, setKeyword}) => {\n    const handleSearchChange = (e) => {\n        e.preventDefault()\n        setKeyword(e.target.value.toLowerCase());\n    }\n  return (\n    <div>\n      <input\n        type=\"search\"\n        placeholder=\"Filter\"\n        value={keyword}\n        onChange={handleSearchChange}\n        className=\"form-control mb-4\"\n      />\n    </div>\n  );\n};\n\nexport default LocalSearch;\n","import React, { useState, useEffect } from \"react\";\nimport AdminNav from \"../../../components/nav/AdminNav\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\nimport {\n  createCategory,\n  getCategories,\n  removeCategory,\n} from \"../../../functions/category\";\nimport { Link } from \"react-router-dom\";\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport CategoryForm from \"../../../components/forms/CategoryForm\";\nimport LocalSearch from \"../../../components/forms/LocalSearch\";\n\nconst CategoryCreate = () => {\n  const { user } = useSelector((state) => ({ ...state }));\n\n  const [name, setName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [categories, setCategories] = useState([]);\n  // step 1\n  const [keyword, setKeyword] = useState(\"\");\n\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  const loadCategories = () =>\n    getCategories().then((c) => setCategories(c.data));\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    // console.log(name);\n    setLoading(true);\n    createCategory({ name }, user.token)\n      .then((res) => {\n        // console.log(res)\n        setLoading(false);\n        setName(\"\");\n        toast.success(`\"${res.data.name}\" is created`);\n        loadCategories();\n      })\n      .catch((err) => {\n        console.log(err);\n        setLoading(false);\n        if (err.response.status === 400) toast.error(err.response.data);\n      });\n  };\n\n  const handleRemove = async (slug) => {\n    // let answer = window.confirm(\"Delete?\");\n    // console.log(answer, slug);\n    if (window.confirm(\"Delete?\")) {\n      setLoading(true);\n      removeCategory(slug, user.token)\n        .then((res) => {\n          setLoading(false);\n          toast.error(`${res.data.name} deleted`);\n          loadCategories();\n        })\n        .catch((err) => {\n          if (err.response.status === 400) {\n            setLoading(false);\n            toast.error(err.response.data);\n          }\n        });\n    }\n  };\n\n  // step 4\n  const searched = (keyword) => (c) => c.name.toLowerCase().includes(keyword);\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <AdminNav />\n        </div>\n        <div className=\"col\">\n          {loading ? (\n            <h4 className=\"text-danger\">Loading..</h4>\n          ) : (\n            <h4>Create category</h4>\n          )}\n\n          <CategoryForm\n            handleSubmit={handleSubmit}\n            name={name}\n            setName={setName}\n          />\n\n          {/* step 2 and step 3 */}\n          <LocalSearch keyword={keyword} setKeyword={setKeyword} />\n\n          {/* step 5 */}\n          {categories.filter(searched(keyword)).map((c) => (\n            <div className=\"alert alert-secondary\" key={c._id}>\n              {c.name}\n              <span\n                onClick={() => handleRemove(c.slug)}\n                className=\"btn btn-sm float-right\"\n              >\n                <DeleteOutlined className=\"text-danger\" />\n              </span>\n              <Link to={`/admin/category/${c.slug}`}>\n                <span className=\"btn btn-sm float-right\">\n                  <EditOutlined className=\"text-warning\" />\n                </span>\n              </Link>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryCreate;","import React, { useState, useEffect } from \"react\";\nimport AdminNav from \"../../../components/nav/AdminNav\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\nimport { getCategory, updateCategory } from \"../../../functions/category\";\nimport CategoryForm from \"../../../components/forms/CategoryForm\";\n\nconst CategoryUpdate = ({ history, match }) => {\n  const { user } = useSelector((state) => ({ ...state }));\n\n  const [name, setName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    loadCategory();\n  }, []);\n\n  const loadCategory = () =>\n    getCategory(match.params.slug).then((c) => setName(c.data.name));\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    // console.log(name);\n    setLoading(true);\n    updateCategory(match.params.slug, { name }, user.token)\n      .then((res) => {\n        // console.log(res)\n        setLoading(false);\n        setName(\"\");\n        toast.success(`\"${res.data.name}\" is updated`);\n        history.push(\"/admin/category\");\n      })\n      .catch((err) => {\n        console.log(err);\n        setLoading(false);\n        if (err.response.status === 400) toast.error(err.response.data);\n      });\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <AdminNav />\n        </div>\n        <div className=\"col\">\n          {loading ? (\n            <h4 className=\"text-danger\">Loading..</h4>\n          ) : (\n            <h4>Update category</h4>\n          )}\n\n          <CategoryForm\n            handleSubmit={handleSubmit}\n            name={name}\n            setName={setName}\n          />\n\n          <hr />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryUpdate;","import React from \"react\";\nimport { Select } from \"antd\";\n\nconst { Option } = Select;\n\nconst ProductCreateForm = ({\n  handleSubmit,\n  handleChange,\n  setValues,\n  values,\n  handleCategoryChange,\n  subOptions,\n  showSub,\n}) => {\n  // destructure\n  const {\n    title,\n    description,\n    price,\n    categories,\n    category,\n    subs,\n    artist,\n    quantity,\n    images,\n    mediaCondition,\n    sleeveCondition,\n    format,\n    mediaConditions,\n    sleeveConditions,\n    formats,\n    catno,\n    status,\n    label\n  } = values;\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <label>Title</label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          className=\"form-control\"\n          value={title}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Description</label>\n        <input\n          type=\"text\"\n          name=\"description\"\n          className=\"form-control\"\n          value={description}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Price</label>\n        <input\n          type=\"number\"\n          name=\"price\"\n          className=\"form-control\"\n          value={price}\n          onChange={handleChange}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label>Artist</label>\n        <input\n          type=\"text\"\n          name=\"artist\"\n          className=\"form-control\"\n          value={artist}\n          onChange={handleChange}\n        />\n      </div>\n    \n      <div className=\"form-group\">\n        <label>Label</label>\n        <input\n          type=\"text\"\n          name=\"label\"\n          className=\"form-control\"\n          value={label}\n          onChange={handleChange}\n        />\n      </div>\n\n      \n\n      \n\n      <div className=\"form-group\">\n        <label>Format</label>\n        <select\n          value={format}\n          name=\"format\"\n          className=\"form-control\"\n          onChange={handleChange}\n        >\n          {formats.map((c) => (\n            <option key={c} value={c}>\n              {c}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label>Media Condition</label>\n        <select name=\"mediaCondition\" className=\"form-control\" onChange={handleChange}>\n          <option>Please select</option>\n          {mediaConditions.map((b) => (\n            <option key={b} value={b}>\n              {b}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label>Sleeve Condition</label>\n        <select name=\"sleeveCondition\" className=\"form-control\" onChange={handleChange}>\n          <option>Please select</option>\n          {sleeveConditions.map((c) => (\n            <option key={c} value={c}>\n              {c}\n            </option>\n          ))}\n        </select>\n      </div>\n\n    \n\n      <div className=\"form-group\">\n        <label>Category</label>\n        <select\n          name=\"category\"\n          className=\"form-control\"\n          onChange={handleCategoryChange}\n        >\n          <option>Please select</option>\n          {categories.length > 0 &&\n            categories.map((c) => (\n              <option key={c._id} value={c._id}>\n                {c.name}\n              </option>\n            ))}\n        </select>\n      </div>\n\n      {/* {showSub && (\n        <div>\n          <label>Sub Categories</label>\n          <Select\n            mode=\"multiple\"\n            style={{ width: \"100%\" }}\n            placeholder=\"Please select\"\n            value={subs}\n            onChange={(value) => setValues({ ...values, subs: value })}\n          >\n            {subOptions.length &&\n              subOptions.map((s) => (\n                <Option key={s._id} value={s._id}>\n                  {s.name}\n                </Option>\n              ))}\n          </Select>\n        </div>\n      )} */}\n\n      <br />\n      <button className=\"btn btn-outline-info\">Save</button>\n    </form>\n  );\n};\n\nexport default ProductCreateForm;","import React from \"react\";\nimport Resizer from \"react-image-file-resizer\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport { Avatar, Badge } from \"antd\";\n\nconst FileUpload = ({ values, setValues, setLoading }) => {\n  const { user } = useSelector((state) => ({ ...state }));\n  const fileUploadAndResize = (e) => {\n    let files = e.target.files;\n    let allUploadedFiles = values.images;\n    if (files) {\n      setLoading(true);\n      for (let i = 0; i < files.length; i++) {\n        Resizer.imageFileResizer(\n          files[i],\n          720,\n          720,\n          \"JPEG\",\n          100,\n          0,\n          (uri) => {\n            axios\n              .post(\n                `${process.env.REACT_APP_API}/uploadimages`,\n                { image: uri },\n                {\n                  headers: {\n                    authtoken: user ? user.token : \"\",\n                  },\n                }\n              )\n              .then((res) => {\n                console.log(\"image upload response data\", res);\n                setLoading(false);\n                allUploadedFiles.push(res.data);\n                setValues({ ...values, images: allUploadedFiles });\n              })\n              .catch((err) => {\n                setLoading(false);\n                console.log(\"cloudinary up`load error\", err);\n              });\n          },\n          \"base64\"\n        );\n      }\n    }\n  };\n  const handleImageRemove = (public_id) => {\n    setLoading(true);\n    console.log(\"remove image : \", public_id);\n    axios.post(`${process.env.REACT_APP_API}/removeimage`, {public_id}, {\n        headers: {\n            authtoken: user ? user.token : ''\n        }\n    })\n    .then(res => {\n        setLoading(false)\n        const {images} = values;\n        let filteredImages = images.filter((item) =>{\n            return item.public_id!== public_id\n        });\n        setValues({...values, images: filteredImages})\n    })\n    .catch((err) =>{\n        console.log(err)\n        setLoading(false);\n    })\n  };\n  return (\n    <>\n      <div className=\"row\">\n        {values.images &&\n          values.images.map((image) => (\n            <Badge\n              count=\"x\"\n              key={image.public_id}\n              onClick={() => handleImageRemove(image.public_id)}\n              style={ {cursor: 'pointer'}}\n            >\n              <Avatar\n                src={image.url}\n                size={100}\n                className=\"ml-3\"\n                shape=\"square\"\n              />\n            </Badge>\n          ))}\n      </div>\n      <div className=\"row mt-3\">\n        <label className=\"btn btn-primary btn-raised\">\n          Choose File\n          <input\n            type=\"file\"\n            multiple\n            hidden\n            accept=\"images/*\"\n            onChange={fileUploadAndResize}\n          />\n        </label>\n      </div>{\" \"}\n    </>\n  );\n};\n\nexport default FileUpload;\n","import React, { useState, useEffect } from \"react\";\nimport AdminNav from \"../../../components/nav/AdminNav\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\nimport { createProduct } from \"../../../functions/product\";\nimport ProductCreateForm from \"../../../components/forms/ProductCreateForm\";\nimport { getCategories, getCategorySubs } from \"../../../functions/category\";\nimport FileUpload from \"../../../components/forms/FileUpload\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\n\nconst initialState = {\n  title: \"Record Title\",\n  artist: \"Artist\",\n  label: \"label\",\n  description: \"Description of the record\",\n  price: \" \",\n  categories: [],\n  category: \"\",\n  // subs: [],\n  quantity: \"1\",\n  images: [\n    \n  ],\n  mediaConditions: [\"New\", \"Mint\", \"Near Mint\", \"VG+\", \"VG\", \"Generic\"],\n  sleeveConditions: [\"New\", \"Mint\", \"Near Mint\", \"VG+\", \"VG\", \"Generic\"],\n  catno: \"\",\n  formats: ['12\"', '7\"'],\n  format: \"\",\n  mediaCondition:\"\",\n  sleeveCondition: \"\"\n};\n\nconst ProductCreate = () => {\n  const [values, setValues] = useState(initialState);\n  const [subOptions, setSubOptions] = useState([]);\n  const [showSub, setShowSub] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  // redux\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  const loadCategories = () =>\n    getCategories().then((c) => setValues({ ...values, categories: c.data }));\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    createProduct(values, user.token)\n      .then((res) => {\n        console.log(res);\n        window.alert(`\"${res.data.title}\" is created`);\n        window.location.reload();\n      })\n      .catch((err) => {\n        console.log(err);\n        // if (err.response.status === 400) toast.error(err.response.data);\n        toast.error(err.response.data.err);\n      });\n  };\n\n  const handleChange = (e) => {\n    setValues({ ...values, [e.target.name]: e.target.value });\n    // console.log(e.target.name, \" ----- \", e.target.value);\n  };\n\n  const handleCategoryChange = (e) => {\n    e.preventDefault();\n    console.log(\"CLICKED CATEGORY\", e.target.value);\n    // setValues({ ...values, subs: [], category: e.target.value });\n    setValues({ ...values, category: e.target.value });\n    // getCategorySubs(e.target.value).then((res) => {\n    //   console.log(\"SUB OPTIONS ON CATGORY CLICK\", res);\n    //   setSubOptions(res.data);\n    // });\n    // setShowSub(true);\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <AdminNav />\n        </div>\n\n        <div className=\"col-md-10\">\n          {loading ? (\n            <LoadingOutlined className=\"text-danger h1\" />\n          ) : (\n            <h4>Product create</h4>\n          )}\n          <hr />\n\n          {/* {JSON.stringify(values.images)} */}\n\n          <div className=\"p-3\">\n            <FileUpload\n              values={values}\n              setValues={setValues}\n              setLoading={setLoading}\n            />\n          </div>\n\n          <ProductCreateForm\n            handleSubmit={handleSubmit}\n            handleChange={handleChange}\n            setValues={setValues}\n            values={values}\n            handleCategoryChange={handleCategoryChange}\n            // subOptions={subOptions}\n            // showSub={showSub}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductCreate;","import React from \"react\";\nimport { Card } from \"antd\";\nimport record from \"./../../images/record.jpeg\";\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport { Link } from \"react-router-dom\";\n\nconst { Meta } = Card;\n\nconst AdminProductCard = ({ product, handleRemove }) => {\n  // destructure\n  const { title, description, images, slug, artist, label, price } = product;\n\n  return (\n    <Card\n    style={{ width: '250px', height: '250px' }}\n      cover={\n        <img\n          src={images && images.length ? images[0].url : record}\n          style={{ height: \"250px\", width: \"250px\", \n          // objectFit: \"cover\" \n          }}\n          className=\"p-1\"\n        />\n      }\n      actions={[\n        <Link to={`/admin/product/${slug}`}>\n          <EditOutlined className=\"text-warning\" />\n        </Link>,\n        <DeleteOutlined\n          onClick={() => handleRemove(slug)}\n          className=\"text-danger\"\n        />,\n      ]}\n    >\n      <Meta\n        title={title}\n\n        // description={`${description && description.substring(0, 40)}...`}\n      />\n      {/* <div className=\"pt-3\">\n      <p>Artist: {artist}</p>\n      <p>Label: {label}</p>\n      <p>Price: €{price}</p>\n    </div> */}\n    </Card>\n  );\n};\n\nexport default AdminProductCard;\n","import React, { useEffect, useState } from \"react\";\nimport AdminNav from \"../../../components/nav/AdminNav\";\nimport {\n  getProductsByCount,\n  fetchProductsByFilter\n} from './../../../functions/product';\nimport AdminProductCard from \"../../../components/cards/AdminProductCard\";\nimport { removeProduct } from './../../../functions/product';\n//import { useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport { Menu, Slider, Checkbox} from \"antd\";\nimport { EuroOutlined, DownSquareOutlined } from \"@ant-design/icons\";\nimport { getCategories } from './../../../functions/category'\nimport Search from './../../../components/forms/Search'\nimport { useSelector, useDispatch } from \"react-redux\";\n\nconst { SubMenu} = Menu;\n\nconst AllProducts = () => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n//from shop\nconst [price, setPrice] = useState([0, 0]);\nconst [ok, setOk] = useState(false);\nconst [categories, setCategories] = useState([]);\nconst [categoryIds, setCategoryIds] = useState([]);\n\nlet dispatch = useDispatch();\nlet { search } = useSelector((state) => ({ ...state }));\nconst { text } = search;\n\n\n\n\n\n\n\n  // redux\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadAllProducts();\n      //fetch categories\n      getCategories().then((res) => setCategories(res.data));\n  }, []);\n\n  const loadAllProducts = () => {\n    setLoading(true);\n    getProductsByCount(2000)\n      .then((res) => {\n        setProducts(res.data);\n        setLoading(false);\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n      });\n  };\n\n\n//from shop\n\n //load products based on user search input\n useEffect(() => {\n  const delayed = setTimeout(() => {\n    fetchProducts({ query: text });\n  }, 300);\n  return () => clearTimeout(delayed);\n}, [text]);\n\nconst fetchProducts = (arg) => {\n  fetchProductsByFilter(arg).then((res) => {\n    setProducts(res.data);\n  });\n};\n\n//load products based on price range\nuseEffect(() => {\n  console.log(\"ok to request\");\n  fetchProducts({ price });\n}, [ok]);\n\nconst handleSlider = (value) => {\n  dispatch({\n    type: \"SEARCH_QUERY\",\n    payload: { text: \"\" },\n  });\n  setCategoryIds([]);\n  setPrice(value);\n  setTimeout(() => {\n    setOk(!ok);\n  }, 300);\n};\n\n//load products based on category\nconst showCategories = () =>\n  categories.map((c) => (\n    <div key={c._id}>\n      <Checkbox\n        onChange={handleCheck}\n        className=\"pb-2 pl-4 pr-4\"\n        value={c._id}\n        name=\"category\"\n        checked={categoryIds.includes(c._id)}\n      >\n        {c.name}\n      </Checkbox>\n\n      <br />\n    </div>\n  ));\n\n// handle check for categories\nconst handleCheck = (e) => {\n  dispatch({\n      type: 'SEARCH_QUERY',\n      payload: {text: ''}\n  });\n  setPrice([0,0])\n//console.log(e.target.value)\nlet inTheState = [...categoryIds];\nlet justChecked = e.target.value;\nlet foundInTheState = inTheState.indexOf(justChecked); // will return true or -1\n\nif (foundInTheState === -1) {\n  inTheState.push(justChecked);\n} else {\n  inTheState.splice(foundInTheState, 1);\n}\n  setCategoryIds(inTheState);\n  console.log(inTheState);\n  fetchProducts({ category: inTheState });\n\n};\n\n\n\n  const handleRemove = (slug) => {\n    // let answer = window.confirm(\"Delete?\");\n    if (window.confirm(\"Delete?\")) {\n      // console.log(\"send delete request\", slug);\n      removeProduct(slug, user.token)\n        .then((res) => {\n          loadAllProducts();\n          toast.error(`${res.data.title} is deleted`);\n        })\n        .catch((err) => {\n          if (err.response.status === 400) toast.error(err.response.data);\n          console.log(err);\n        });\n    }\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <AdminNav />\n<br />\n<br />\n          <h5>Search / Filter / Sort</h5>\n          <hr />\n\n          <Menu defaultOpenKeys={[\"1\", \"2\"]} mode=\"inline\">\n         \n            <SubMenu\n              key=\"1\"\n              title={\n                <span className=\"h6\">\n                  <EuroOutlined /> Price\n                </span>\n              }\n            >\n              <div>\n                <Slider\n                  className=\"ml-4 mr-4\"\n                  tipFormatter={(value) => `€${value}`}\n                  range\n                  value={price}\n                  onChange={handleSlider}\n                  max=\"1000\" //or find max price from db\n                />\n              </div>\n            </SubMenu>\n            {/* category */}\n            <SubMenu\n              key=\"2\"\n              title={\n                <span className=\"h6\">\n                  <DownSquareOutlined /> Categories\n                </span>\n              }\n            >\n              <div style={{ marginTop: \"-10px\" }}>{showCategories()}</div>\n            </SubMenu>\n          </Menu>\n\n\n\n\n\n\n\n\n\n\n\n        </div>\n\n        <div className=\"col\">\n          {loading ? (\n            <h4 className=\"text-danger\">Loading...</h4>\n          ) : (\n            <h4>All Products</h4>\n          )}\n          <div className=\"row\">\n            {products.map((product) => (\n              <div key={product._id} className=\"col-md-3 pb-3\">\n                <AdminProductCard\n                  product={product}\n                  handleRemove={handleRemove}\n                />\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AllProducts;","import React from \"react\";\nimport { Select } from \"antd\";\n\nconst { Option } = Select;\n\nconst ProductUpdateForm = ({\n  handleSubmit,\n  handleChange,\n  setValues,\n  values,\n  handleCategoryChange,\n  categories,\n  subOptions,\n  arrayOfSubs,\n  setArrayOfSubs,\n  selectedCategory,\n}) => {\n  // destructure\n  const {\n    title,\n    artist,\n    label,\n    description,\n    price,\n    category,\n    subs,\n    quantity,\n    sold,\n    catno,\n    sleeveCondition,\n    mediaCondition,\n    format,\n    sleeveConditions,\n    mediaConditions,\n    formats,\n    status,\n  } = values;\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <label>Title</label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          className=\"form-control\"\n          value={title}\n          onChange={handleChange}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label>Artist</label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          className=\"form-control\"\n          value={artist}\n          onChange={handleChange}\n        />\n      </div>\n      <div className=\"form-group\">\n        <label>Label</label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          className=\"form-control\"\n          value={label}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Description</label>\n        <input\n          type=\"text\"\n          name=\"description\"\n          className=\"form-control\"\n          value={description}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Price</label>\n        <input\n          type=\"number\"\n          name=\"price\"\n          className=\"form-control\"\n          value={price}\n          onChange={handleChange}\n        />\n      </div>\n      \n      {/* <div className=\"form-group\">\n        <label>Shipping</label>\n        <select\n          value={shipping === \"Yes\" ? \"Yes\" : \"No\"}\n          name=\"shipping\"\n          className=\"form-control\"\n          onChange={handleChange}\n        >\n          <option value=\"No\">No</option>\n          <option value=\"Yes\">Yes</option>\n        </select>\n      </div> */}\n\n      <div className=\"form-group\">\n        <label>Quantity</label>\n        <input\n          type=\"number\"\n          name=\"quantity\"\n          className=\"form-control\"\n          value={quantity}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Status</label>\n        <input\n          type=\"text\"\n          name=\"status\"\n          className=\"form-control\"\n          value={status}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Format</label>\n        <select\n          value={format}\n          name=\"format\"\n          className=\"form-control\"\n          onChange={handleChange}\n        >\n          {formats.map((c) => (\n            <option key={c} value={c}>\n              {c}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label>Media Condition</label>\n        <select\n          value={mediaCondition}\n          name=\"mediaCondition\"\n          className=\"form-control\"\n          onChange={handleChange}\n        >\n          {mediaConditions.map((b) => (\n            <option key={b} value={b}>\n              {b}\n            </option>\n          ))}\n        </select>\n      </div>\n\n\n      <div className=\"form-group\">\n        <label>Sleeve Condition</label>\n        <select\n          value={sleeveCondition}\n          name=\"sleeveCondition\"\n          className=\"form-control\"\n          onChange={handleChange}\n        >\n          {sleeveConditions.map((b) => (\n            <option key={b} value={b}>\n              {b}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label>Category</label>\n        <select\n          name=\"category\"\n          className=\"form-control\"\n          onChange={handleCategoryChange}\n          value={selectedCategory ? selectedCategory : category._id}\n        >\n          {categories.length > 0 &&\n            categories.map((c) => (\n              <option key={c._id} value={c._id}>\n                {c.name}\n              </option>\n            ))}\n        </select>\n      </div>\n\n      {/* <div>\n        <label>Sub Categories</label>\n        <Select\n          mode=\"multiple\"\n          style={{ width: \"100%\" }}\n          placeholder=\"Please select\"\n          value={arrayOfSubs}\n          onChange={(value) => setArrayOfSubs(value)}\n        >\n          {subOptions.length &&\n            subOptions.map((s) => (\n              <Option key={s._id} value={s._id}>\n                {s.name}\n              </Option>\n            ))}\n        </Select>\n      </div> */}\n\n      <br />\n      <button className=\"btn btn-outline-info\">Save</button>\n    </form>\n  );\n};\n\nexport default ProductUpdateForm;\n","import React, { useState, useEffect } from \"react\";\nimport AdminNav from \"../../../components/nav/AdminNav\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\nimport { getProduct, updateProduct } from \"../../../functions/product\";\nimport { getCategories, getCategorySubs } from \"../../../functions/category\";\nimport FileUpload from \"../../../components/forms/FileUpload\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport ProductUpdateForm from \"../../../components/forms/ProductUpdateForm\";\n\nconst initialState = {\n  title: \"\",\n  description: \"\",\n  artist: '',\n  label: '',\n  catno: '',\n  formats: [' 12\" ', ' 7in\" '],\n  price: \"\",\n  category: \"\",\n  subs: [],\n\n  quantity: \"\",\n  images: [],\n  mediaConditions: [ \"New\", \"Mint\", 'Near Mint', \"VG+\", \"VG\"],\n  sleeveConditions: [ \"New\", \"Mint\", 'Near Mint', \"VG+\", \"VG\", \"Generic\"],\n  format: \"\",\n  mediaCondition: \"\",\n  sleeveCondition: \"\"\n  \n};\n\nconst ProductUpdate = ({ match, history }) => {\n  // state\n  const [values, setValues] = useState(initialState);\n  const [categories, setCategories] = useState([]);\n  const [subOptions, setSubOptions] = useState([]);\n  const [arrayOfSubs, setArrayOfSubs] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n\n  const { user } = useSelector((state) => ({ ...state }));\n  // router\n  const { slug } = match.params;\n\n  useEffect(() => {\n    loadProduct();\n    loadCategories();\n  }, []);\n\n  const loadProduct = () => {\n    getProduct(slug).then((p) => {\n      // console.log(\"single product\", p);\n      // 1 load single proudct\n      setValues({ ...values, ...p.data });\n      // 2 load single product category subs\n      // getCategorySubs(p.data.category._id).then((res) => {\n      //   setSubOptions(res.data); // on first load, show default subs\n      // });\n      // 3 prepare array of sub ids to show as default sub values in antd Select\n      // let arr = [];\n      // p.data.subs.map((s) => {\n      //   arr.push(s._id);\n      // });\n      // console.log(\"ARR\", arr);\n      // setArrayOfSubs((prev) => arr); // required for ant design select to work\n    });\n  };\n\n  const loadCategories = () =>\n    getCategories().then((c) => {\n      console.log(\"GET CATEGORIES IN UPDATE PRODUCT\", c.data);\n      setCategories(c.data);\n    });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true)\n    // values.subs = arrayOfSubs\n    values.category = selectedCategory ? selectedCategory : values.category;\n\n    updateProduct(slug, values, user.token)\n    .then(res => {\n      setLoading(false)\n      toast.success(`\"${res.data.title}\" is updated`)\n      history.push('/admin/products');\n    })\n    .catch(err => {\n      console.log(err);\n      setLoading(false)\n      toast.error(err.response.data.err);\n    });\n  };\n\n  const handleChange = (e) => {\n    setValues({ ...values, [e.target.name]: e.target.value });\n    // console.log(e.target.name, \" ----- \", e.target.value);\n  };\n\n  const handleCategoryChange = (e) => {\n    e.preventDefault();\n    console.log(\"CLICKED CATEGORY\", e.target.value);\n    setValues({ ...values });\n    // setValues({ ...values, subs: [] });\n\n    setSelectedCategory(e.target.value);\n\n    // getCategorySubs(e.target.value).then((res) => {\n    //   console.log(\"SUB OPTIONS ON CATGORY CLICK\", res);\n    //   setSubOptions(res.data);\n    // });\n\n    console.log(\"EXISTING CATEGORY values.category\", values.category);\n\n    // if user clicks back to the original category\n    // show its sub categories in default\n    // if (values.category._id === e.target.value) {\n    //   loadProduct();\n    // }\n    // clear old sub category ids\n    // setArrayOfSubs([]);\n  };\n \n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <AdminNav />\n        </div>\n\n        <div className=\"col-md-10\">\n          {loading ? (\n            <LoadingOutlined className=\"text-danger h1\" />\n          ) : (\n            <h4>Product update</h4>\n          )}\n          <hr />\n          <div className=\"p-3\">\n            <FileUpload\n              values={values}\n              setValues={setValues}\n              setLoading={setLoading}\n            />\n          </div>\n\n\n          <ProductUpdateForm\n            handleSubmit={handleSubmit}\n            handleChange={handleChange}\n            setValues={setValues}\n            values={values}\n            handleCategoryChange={handleCategoryChange}\n            categories={categories}\n            subOptions={subOptions}\n            arrayOfSubs={arrayOfSubs}\n            setArrayOfSubs={setArrayOfSubs}\n            selectedCategory={selectedCategory}\n          />\n          <hr />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductUpdate;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst ProductListItems = ({ product }) => {\n  const {\n    // price,\n    // category,\n    // subs,\n    // shipping,\n    // color,\n    // brand,\n    // sold,\n    // quantity,\n    title, artist, label, catno, format, price, mediaCondition, sleeveCondition, category, description, quantity, sold, subs\n  } = product;\n  return (\n    <ul className=\"list-group\">\n      <li className=\"list-group-item\">\n        Price{\" \"}\n        <span className=\"label-default label-pill pull-xs-right\">€{price}</span>\n      </li>\n      {category && (\n        <li className=\"list-group-item\">\n          Category{\" \"}\n          <Link\n            to={`/category/${category.slug}`}\n            className=\" label label-default label-pill pull-xs-right\"\n          >\n            {category.name}\n          </Link>\n        </li>\n      )}\n{/* \n      {subs && (\n        <li className=\"list-group-item\">\n          Sub Categories\n          {subs.map((s) => (\n            <Link\n              key={s._id}\n              to={`/sub/${s.slug}`}\n              className=\"label-default label-pill pull-xs-right\"\n            >\n              {s.name}\n            </Link>\n          ))}\n        </li>\n      )} */}\n\n      {/* <li className=\"list-group-item\">\n        Shipping{\" \"}\n        <span className=\"label-default label-pill pull-xs-right\">{shipping}</span>\n      </li> */}\n      <li className=\"list-group-item\">\n        title{\" \"}\n        <span className=\"label-default label-pill pull-xs-right\">{title}</span>\n      </li><li className=\"list-group-item\">\n        artist{\" \"}\n        <span className=\"label-default label-pill pull-xs-right\">{artist}</span>\n      </li><li className=\"list-group-item\">\n        label{\" \"}\n        <span className=\"label-default label-pill pull-xs-right\">{label}</span>\n      </li>\n      <li className=\"list-group-item\">\n        Media Condition{\" \"}\n        <span className=\"label-default label-pill pull-xs-right\">{mediaCondition}</span>\n      </li>\n      <li className=\"list-group-item\">\n        Sleeve Condition{\" \"}\n        <span className=\"label-default label-pill pull-xs-right\">{sleeveCondition}</span>\n      </li>\n      <li className=\"list-group-item\">\n        Cat no.{\" \"}\n        <span className=\"label-default label-pill pull-xs-right\">{catno}</span>\n      </li>\n      <li className=\"list-group-item\">\n        Available{\" \"}\n        <span className=\"label-default label-pill pull-xs-right\">{quantity}</span>\n      </li>\n      <li className=\"list-group-item\">\n        Format{\" \"}\n        <span className=\"label-default label-pill pull-xs-right\">{format}</span>\n      </li>\n    </ul>\n  );\n};\n\nexport default ProductListItems;\n","import React, {useState} from \"react\";\nimport { Carousel } from \"react-responsive-carousel\";\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\nimport { Card, Tabs, Tooltip } from \"antd\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { HeartOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\nimport Record from \"./../../images/record.jpeg\";\nimport ProductListItems from \"./ProductListItems\";\nimport Sound from \"react-sound\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport _ from 'lodash'\nimport {useSelector, useDispatch} from 'react-redux'\nimport {addToWishlist} from './../../functions/user'\nimport { toast } from \"react-toastify\";\n\n\nconst { TabPane } = Tabs;\nconst SingleProduct = ({ product }) => {\n  const { title, description, images, sound } = product;\n    //tooltip\n    const [tooltip, setTooltip] = useState(\"Click to add\");\n    //redux\n    const {user, cart} = useSelector(state => ({...state}))\n    const dispatch = useDispatch()\n    // router\n    let history = useHistory()\n\n\n   \n\n    const handleAddToCart = () => {\n      let cart = [];\n      if (typeof window !== \"undefined\") {\n        if (localStorage.getItem(\"cart\")) {\n          cart = JSON.parse(localStorage.getItem(\"cart\"));\n        }\n        cart.push({\n          ...product,\n          count: 1,\n        });\n        let unique = _.uniqWith(cart, _.isEqual);\n        localStorage.setItem(\"cart\", JSON.stringify(unique));\n        setTooltip(\"Added\");\n  \n  \n        // add to redux state\n        dispatch({\n          type: \"ADD_TO_CART\",\n          payload: unique\n        })\n        dispatch({\n          type: \"SET_VISIBLE\",\n          payload: true\n        })\n      }\n    };\n\n    const handleAddToWishlist = (e) => {\n      e.preventDefault();\naddToWishlist(product._id, user.token).then(res => {\n  console.log('ADDED TO WISHLIST', res.data);\n  toast.success('Added to wishlist')\n  history.push('/user/wishlist')\n})\n    }\n\n\n  return (\n    <>\n      <div className=\"col-md-5\">\n        {images && images.length ? (\n          <div className=\"carousel-container\">\n            <Carousel showArrows={true} autoPlay infiniteLoop>\n              {images &&\n                images.map((i) => <img src={i.url} key={i.public_id} />)}\n            </Carousel>\n          </div>\n        ) : (\n          <Card cover={<img src={Record} className=\"mb-3 card-image\" />} />\n        )}\n      </div>\n\n      <div className=\"col-md-3\">\n        {/* <Tabs type=\"card\">\n          <TabPane tab=\"Description\" key=\"1\">\n            {description && description}\n\n            {/* <p>{description && description}</p> */}\n          {/* </TabPane>\n          <TabPane tab=\"Listening booth\" key=\"2\">\n            <ReactAudioPlayer src={product.sound} autoPlay controls />\n          </TabPane>\n        </Tabs> */}\n        <div>{description && description}</div>\n        <div className=\"pt-5\"><ReactAudioPlayer src={product.sound} autoPlay controls /></div>\n      </div>\n\n      <div className=\"col-md-4\">\n        <h1 className=\"bg-info p-3\">{title}</h1>\n        <Card\n          actions={[\n            <Tooltip title={tooltip}>\n            <a onClick={handleAddToCart}>\n              <ShoppingCartOutlined className=\"text-danger\" /> <br /> Add to\n              Cart\n            </a>\n          </Tooltip>,\n\n            <a onClick={handleAddToWishlist}>\n              <HeartOutlined className=\"text-info\" />\n              <br />\n              Add to Wishlist\n            </a>,\n          ]}\n        >\n          <ProductListItems product={product} />\n        </Card>\n      </div>\n    </>\n  );\n};\n\nexport default SingleProduct;\n","import React, {useEffect, useState} from 'react';\nimport {getProduct} from './../functions/product';\nimport SingleProduct from './../components/cards/SingleProduct'\n  import {listRelated} from './../functions/product.js'\n  import ProductCard from './../components/cards/ProductCard'\n \n\nconst Product = ({match}) => {\n    const [product, setProduct] = useState({})\nconst [related, setRelated] = useState([])\n    const {slug} = match.params;\n\n    useEffect(() => {\n        loadSingleProduct();\n    }, [slug])\n\n    const loadSingleProduct = () =>\n   { getProduct(slug).then((res) => {\nsetProduct(res.data);\n//load related as well\nlistRelated(res.data._id).then(res => setRelated(res.data))\n   });\n    }\n\n    return <div className=\"container-fluid\">\n        <div className=\"row pt-4\">\n            <SingleProduct product={product} />\n        </div>\n\n        <div className=\"row p-5\">\n            <div className=\"col text-center pt-5 pb-5\">\n                <hr/>\n                <h4>Related Products</h4>\n                <hr/>\n            </div>\n        </div>\n        <div className=\"row pb-5\">\n            {related.length ? related.map((r) => (<div key ={r._id} className='col-md-3'>\n                <ProductCard product={r}/>\n            </div>)) : <div className=\"text-center col \">'No products found'</div> }\n        </div>\n    </div> \n}\n\nexport default Product;","import React, { useState, useEffect } from \"react\";\nimport { getCategory } from \"../../functions/category\";\nimport ProductCard from \"../../components/cards/ProductCard\";\n\nconst CategoryHome = ({ match }) => {\n  const [category, setCategory] = useState({});\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const { slug } = match.params;\n\n  useEffect(() => {\n    setLoading(true);\n    getCategory(slug).then((res) => {\n      console.log(JSON.stringify(res.data, null, 4));\n      setCategory(res.data.category);\n      setProducts(res.data.products);\n      setLoading(false);\n    });\n  }, []);\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col\">\n          {loading ? (\n            <h4 className=\"text-center p-3 mt-5 mb-5 display-4 jumbotron\">\n              Loading...\n            </h4>\n          ) : (\n            <h4 className=\"text-center p-3 mt-5 mb-5 display-4 jumbotron\">\n              {products.length} Products in \"{category.name}\" category\n            </h4>\n          )}\n        </div>\n      </div>\n\n      <div className=\"row\">\n        {products.map((p) => (\n          <div className=\"col\" key={p._id}>\n            <ProductCard product={p} />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryHome;","import React, { useEffect, useState } from \"react\";\nimport {\n  getProductsByCount,\n  fetchProductsByFilter,\n  getProductsCount,\n  getProducts,\n} from \"./../functions/product\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport ProductCard from \"./../components/cards/ProductCard\";\nimport { Menu, Slider, Checkbox } from \"antd\";\nimport { EuroOutlined, DownSquareOutlined } from \"@ant-design/icons\";\nimport { getCategories } from \"./../functions/category\";\nimport Search from \"./../components/forms/Search\";\nimport CategoryList from \"../components/category/CategoryList\";\nimport { Pagination } from \"antd\";\n\nconst { SubMenu } = Menu;\n\nconst Shop = () => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [price, setPrice] = useState([0, 0]);\n  const [ok, setOk] = useState(false);\n  const [categories, setCategories] = useState([]);\n  const [categoryIds, setCategoryIds] = useState([]);\n  // const [page, setPage] = useState(1);\n  const [productsCount, setProductsCount] = useState(1);\n\n  let dispatch = useDispatch();\n  let { search } = useSelector((state) => ({ ...state }));\n  const { text } = search;\n\n  useEffect(() => {\n    loadAllProducts();\n    //fetch categories\n    getCategories().then((res) => setCategories(res.data));\n  }, []);\n\n  //load products on page load\n  const loadAllProducts = () => {\n    getProductsByCount(2000).then((p) => {\n      setProducts(p.data);\n      setLoading(false);\n    });\n  };\n\n  // useEffect(() => {\n  //   loadAllProducts();\n  // }, [page]);\n\n  useEffect(() => {\n    getProductsCount().then((res) => setProductsCount(res.data));\n  }, []);\n\n  //load products based on user search input\n  useEffect(() => {\n    const delayed = setTimeout(() => {\n      fetchProducts({ query: text });\n      if (!text) {\n        loadAllProducts();\n      }\n    }, 300);\n    return () => clearTimeout(delayed);\n  }, [text]);\n\n  const fetchProducts = (arg) => {\n    fetchProductsByFilter(arg).then((res) => {\n      setProducts(res.data);\n    });\n  };\n\n  //load products based on price range\n  useEffect(() => {\n    console.log(\"ok to request\");\n    fetchProducts({ price });\n  }, [ok]);\n\n  const handleSlider = (value) => {\n    dispatch({\n      type: \"SEARCH_QUERY\",\n      payload: { text: \"\" },\n    });\n    setCategoryIds([]);\n    setPrice(value);\n    setTimeout(() => {\n      setOk(!ok);\n    }, 300);\n  };\n\n  //load products based on category\n  const showCategories = () =>\n    categories.map((c) => (\n      <span key={c._id} style={{ display: \"inline-flex\" }}>\n        <Checkbox\n          onChange={handleCheck}\n          className=\"pb-2 pl-4 pr-4\"\n          value={c._id}\n          name=\"category\"\n          checked={categoryIds.includes(c._id)}\n        >\n          {c.name}\n        </Checkbox>\n\n        <br />\n      </span>\n    ));\n  // handle check for categories\n  const handleCheck = (e) => {\n    dispatch({\n      type: \"SEARCH_QUERY\",\n      payload: { text: \"\" },\n    });\n    setPrice([0, 0]);\n    //console.log(e.target.value)\n    let inTheState = [...categoryIds];\n    let justChecked = e.target.value;\n    let foundInTheState = inTheState.indexOf(justChecked); // will return true or -1\n\n    if (foundInTheState === -1) {\n      inTheState.push(justChecked);\n    } else {\n      inTheState.splice(foundInTheState, 1);\n    }\n    setCategoryIds(inTheState);\n    console.log(inTheState);\n    fetchProducts({ category: inTheState });\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        {/* <div className=\"col-md-2 pt-2\"> */}\n        <hr />\n        {/* <h5>Search / Filter / Sort</h5> */}\n        <hr />\n        <div className=\"col-md-3\" style={{ marginTop: \"10px\" }}>\n          <div style={{ display: \"inline\" }}><span className=\"h6\" style={{ \"display\": \"inline\" }}>\n                  <EuroOutlined /> Filter by Price\n                </span>\n            <Slider\n              className=\"ml-4 mr-4\"\n              tipFormatter={(value) => `€${value}`}\n              range\n              value={price}\n              onChange={handleSlider}\n              max=\"250\" //or find max price from db\n            />\n          </div>\n        </div>\n        <div className=\"col-md-9\">\n          {\" \"}\n          <div style={{ marginTop: \"10px\" }}>{showCategories()}</div>\n        </div>\n\n        {/* <Menu defaultOpenKeys={[\"1\", \"2\"]} mode=\"inline\"> */}\n        {/* <Search className=\"m-4 pb-10\" /> */}\n        {/* <hr />\n            <SubMenu\n              key=\"1\"\n              title={\n                <span className=\"h6\">\n                  <EuroOutlined /> Filter by Price\n                </span>\n              }\n            >\n              <div>\n                <Slider\n                  className=\"ml-4 mr-4\"\n                  tipFormatter={(value) => `€${value}`}\n                  range\n                  value={price}\n                  onChange={handleSlider}\n                  max=\"250\" //or find max price from db\n                />\n              </div>\n            </SubMenu> */}\n        {/* category */}\n        {/* <SubMenu\n              key=\"2\"\n              title={\n                <span className=\"h6\">\n                  <DownSquareOutlined /> Categories\n                </span>\n              }\n            >\n              <div style={{ marginTop: \"-10px\" }}>{showCategories()}</div>\n            </SubMenu> */}\n        {/* <CategoryList />\n          </Menu> */}\n        {/* <Pagination\n        current={page}\n        total={productsCount}\n        defaultPageSize={30}\n        onChange={(page) => setPage(page)}\n      /> */}\n      </div>\n      {/* main window */}\n      <div className=\"col-md-12 pt-2\">\n        {loading ? (\n          <h4 className=\"text-danger\">Loading...</h4>\n        ) : (\n          null\n        )}\n        {products.length < 1 && <p>No products found</p>}\n        <div className=\"row pb-5\" style={{ \"background-color\": \"grey\" }}>\n          {products.map((p) => (\n            <div className=\" p-3\" key={p._id}>\n              <ProductCard product={p} />\n            </div>\n          ))}\n        </div>\n      </div>\n      {/* </div> */}\n    </div>\n  );\n};\n\nexport default Shop;\n","import React from \"react\";\nimport ModalImage from \"react-modal-image\";\nimport Record from \"./../../images/record.jpeg\";\nimport { useDispatch } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport {CloseOutlined} from '@ant-design/icons'\n\nconst ProductCardInCheckout = ({ p }) => {\n  let dispatch = useDispatch();\n\n  const handleQuantityChange = e => {\n    let count = e.target.value < 1 ? 1 : e.target.value;\n    //let count = e.target.value\n\n    //CANT CHANGE INPUT FIELD WHEN THSI IS HERE......\n    if (count > p.quantity) {\n      toast.error(`Max available quantity : ${p.quantity}`);\n      return;\n    }\n\n    let cart = [];\n\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      }\n\n      cart.map((product, i) => {\n        if (product._id == p._id) {\n          cart[i].count = count;\n        }\n      });\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: cart,\n      });\n    }\n  };\nconst handleRemove=()=>{\n    let cart = [];\n\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      }\n\n      cart.map((product, i) => {\n        if (product._id === p._id) {\n          cart.splice(i,1);\n        }\n      });\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: cart,\n      });\n    } \n}\n  return (\n    <tbody>\n      <tr>\n        <td>\n          <div className=\"\" style={{ width: \"100px\", height: \"100px\" }}>\n            {p.images.length ? (\n              <ModalImage small={p.images[0].url} large={p.images[0].url} />\n            ) : (\n              <ModalImage small={Record} large={Record} />\n            )}\n          </div>\n        </td>\n        <td>{p.title}</td>\n        <td>{p.artist}</td>\n        <td>{p.label}</td>\n        <td>€{p.price}</td>\n        {console.log(\"P.COUNT=======>\", p.count)}\n        {console.log(\"P.QUANTITY=======>\", p.quantity)}\n        <td className=\"text-center\" >\n          <input\n            type=\"number\"\n            className=\"form-control\"\n            value={p.count}\n            onChange={handleQuantityChange}\n          />\n        </td>\n        <td className=\"text-center\"><CloseOutlined  onClick={handleRemove} className=\"text-danger pointer\"/></td>\n      </tr>\n    </tbody>\n  );\n};\n\nexport default ProductCardInCheckout;\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport Product from \"./Product\";\nimport ProductCardInCheckout from './../components/cards/ProductCardInCheckout.js'\nimport {userCart} from './../functions/user'\n\nconst Cart = ({history}) => {\n  const { cart, user } = useSelector((state) => ({ ...state }));\n  const dispatch = useDispatch();\n\n\n  const getTotal = () => {\n    return cart.reduce((currentValue, nextValue) => {\n      return currentValue + nextValue.count * nextValue.price;\n    }, 0);\n  };\n\n\n  const saveOrderToDb = () => {\n//console.log(\"cart\", JSON.stringify(cart, null, 4));\nuserCart(cart, user.token)\n.then((res) => {\n    console.log('CART POST RESPONSE ------', res)\n    if (res.data.ok) history.push('/checkout');\n}).catch((err) => console.log('cart save error', err))\n    history.push('/checkout')\n  };\n  const showCartItems = () => (\n      <table className=\"table table-bordered\">\n          <thead className=\"thead-light\">\n              <tr>\n                  <th scope='col'>Image</th>\n                  <th scope='col'>Title</th>\n                  <th scope='col'>Artist</th>\n                  <th scope='col'>Label</th>\n                  <th scope='col'>Price</th>\n                  <th scope='col'>Count</th>\n                  <th scope='col'>Remove</th>\n           \n              </tr>\n          </thead>\n{cart.map((p)=>(\n    <ProductCardInCheckout key={p._id} p={p}/>\n    ))}\n\n      </table>\n  )\n\n \n\n  return (\n    <div className=\"container-fluid pt-2\">\n      <div className=\"row\">\n        <div className=\"col-md-8\">\n          <h4>Cart / {cart.length} products</h4>\n\n          {!cart.length ? (\n            <p>\n              No products in cart. <Link to=\"./shop\">Continue shopping</Link>\n            </p>\n          ) : (\n            showCartItems()\n          )}\n        </div>\n        <div className=\"col-md-4\">\n          <h4>Order Summary</h4>\n          <hr />\n          <p>Products</p>\n          {cart.map((c, i) => (\n            <div key={i}>\n              <p>\n                {c.title} x {c.count} = €{c.price * c.count}\n              </p>\n            </div>\n          ))}\n          <hr />\n          Total: <b>€{getTotal()}</b>\n          <hr />\n          {user ? (\n            <button\n              onClick={saveOrderToDb}\n              className=\"btn btn-sm btn-primary mt-2\"\n              disabled={!cart.length}\n            >\n              Proceed to checkout\n            </button>\n          ) : (\n            <button className=\"btn btn-sm btn-primary mt-2\">\n             <Link to={{\n                 pathname: '/login',\n                 state: {from: 'cart'}\n             }}> Login to checkout</Link>\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Cart;\n","import React, { useEffect, useState } from \"react\";\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\nimport \"react-quill/dist/quill.bubble.css\";\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport {\n  getUserCart,\n  emptyUserCart,\n  saveUserAddress,\n} from \"./../functions/user\";\n\nconst Checkout = ({history}) => {\n  const [products, setProducts] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [address, setAddress] = useState(\"test\");\n  const [addressSaved, setAddressSaved] = useState(false);\n\n  const dispatch = useDispatch();\n  const { user } = useSelector((state) => ({ ...state }));\n\n\n  //this runs when hit refresh page, want it to load on initial page render.....\n  useEffect(() => {\n    getUserCart(user.token).then((res) => {\n    //   console.log(\n    //     \"user cart response - in checkout page\",\n    //     JSON.stringify(res.data, null, 4)\n    //   ); //null & 4 are additional arguments given to JSON stringify to make it more readable\n      setProducts(res.data.products);\n      setTotal(res.data.cartTotal);\n    //   console.log(\"products in checkout\", products);\n   \n    });\n  }, []);\n  const emptyCart = () => {\n    if (typeof window !== \"undefined\") {\n      localStorage.removeItem(\"cart\");\n    }\n    // remove from redux\n    dispatch({\n      type: \"ADD_TO_CART\",\n      payload: [],\n    });\n    //remove from backend\n    emptyUserCart(user.token).then((res) => {\n      setProducts([]);\n      setTotal(0);\n      toast.success(\"Cart is empty. Continue shopping\");\n    });\n  };\n\n  const saveAddressToDb = () => {\n    console.log(\"address :\", address);\n    saveUserAddress(user.token, address).then((res) => {\n      if (res.data.ok) {\n        setAddressSaved(true);\n        toast.success(\"Address Saved\");\n      } else toast.warning(\"address not saved\");\n    });\n  };\n\n  return (\n    <div className=\"row\">\n      <div className=\"col-md-6\">\n        <h4>Delivery Address</h4>\n        <br />\n        <br />\n        <ReactQuill theme=\"snow\" value={address} onChange={setAddress} />\n        <button className=\"btn btn-primary mt-2\" onClick={saveAddressToDb}>\n          Save\n        </button>\n        <hr />\n      </div>\n      <div className=\"col-md-6\">\n        <h4>Order Summary</h4>\n        {/* {JSON.stringify({ products })} */}\n\n        <hr />\n        <p>Products {products.length} </p>\n\n        <hr />\n        {products.map((p, i) => (\n          <div key={i}>\n            {/* {console.log(\"p\", p)}\n            {console.log(\"p.product\", p.product)} */}\n            {/* {console.log(\"p\", p)} */}\n            <p>\n              {p.product.title} x {p.count} = €{p.product.price * p.count}\n            </p>\n          </div>\n        ))}\n        <hr />\n        <p>Cart Total: €{total}</p>\n\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <button\n              disabled={!addressSaved || !products.length}\n              className=\"btn btn-primary\"\n            onClick={() =>history.push('/payment')}\n            >\n              Place Order\n            </button>\n            <button\n              disabled={!products.length}\n              onClick={emptyCart}\n              className=\"btn btn-primary\"\n            >\n              Empty Cart\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Checkout;\n","import React, { useState, useEffect } from \"react\";\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { createPaymentIntent } from \"./../functions/stripe\";\nimport {Link} from 'react-router-dom'\nimport {createOrder, emptyUserCart} from './../functions/user'\n\nconst StripeCheckout = ({ history }) => {\n  const dispatch = useDispatch();\n  const { user } = useSelector((state) => ({ ...state }));\n\n  const [succeeded, setSucceeded] = useState(false);\n  const [error, setError] = useState(null);\n  const [processing, setProcessing] = useState(\"\");\n  const [disabled, setDisabled] = useState(true);\n  const [clientSecret, setClientSecret] = useState(\"\");\n\n  const [cartTotal, setCartTotal] = useState(0)\n\n  const stripe = useStripe();\n  const elements = useElements();\n\n  useEffect(() => {\n    createPaymentIntent(user.token).then((res) => {\n      console.log(\"create payment intent\", res.data);\n      setClientSecret(res.data.clientSecret);\n      console.log(\"client secret\", clientSecret);\n    });\n  }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setProcessing(true);\n    const payload = await stripe.confirmCardPayment(clientSecret, {\n      payment_method: {\n        card: elements.getElement(CardElement),\n        billing_details: {\n          name: e.target.name.value,\n        },\n      },\n    });\n    if (payload.error) {\n      setError(`Payment failed ${payload.error.message}`);\n      setProcessing(false);\n    } else {\n     console.log(JSON.stringify(payload, null, 4));\n      createOrder(payload, user.token)\n      .then(res => {\n        console.log(\"res.data\", res.data)\n        if(res.data.ok) {\n          if(typeof window !== 'undefined') localStorage.removeItem('cart');\n          dispatch({\n            type: 'ADD_TO_CART',\n            payload: []\n          })\n          emptyUserCart(user.token)\n        }\n      })\n      setError(null);\n      setProcessing(false);\n      setSucceeded(true);\n    }\n  };\n\n  const handleChange = async (e) => {\n    setDisabled(e.empty);\n    setError(e.error ? e.error.message : \"\");\n\n    //\n  };\n\n  const cartStyle = {\n    style: {\n      base: {\n        color: \"#32325d\",\n        fontFamily: \"Arial, sans-serif\",\n        fontSmoothing: \"antialiased\",\n        fontSize: \"16px\",\n        \"::placeholder\": {\n          color: \"#32325d\",\n        },\n      },\n      invalid: {\n        color: \"#fa755a\",\n        iconColor: \"#fa755a\",\n      },\n    },\n  };\n\n  return (\n    <>\n      <p className={succeeded ? \"result-message\" : \"result-message hidden\"}>\n        Payment successful <Link to='/user/history'>View your purchase history</Link>\n      </p>\n      <form id=\"payment-form\" className=\"stripe-form\" onSubmit={handleSubmit}>\n        <CardElement\n          id=\"card-element\"\n          options={cartStyle}\n          onChange={handleChange}\n        />\n        <button\n          className=\"stripe-button\"\n          disabled={processing || disabled || succeeded}\n        >\n          <span id=\"button-text\">\n            {processing ? <div className=\"spinner\" id=\"spinner\"></div> : \"Pay\"}\n          </span>\n        </button>\n        <br />\n        {error && (\n          <div className=\"card-error\" role=\"alert\">\n            {error}\n          </div>\n        )}\n      </form>\n    </>\n  );\n};\n\nexport default StripeCheckout;\n","import axios from \"axios\";\n\nexport const createPaymentIntent = (authtoken) =>\n  axios.post(\n    `${process.env.REACT_APP_API}/create-payment-intent`,\n    {},\n    { headers: { authtoken } }\n  );\n","import React from \"react\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport StripeCheckout from './../components/StripeCheckout'\nimport './../styles/stripe.css'\n\n//load stripe outside of components to avoid recreating stripe object in every render\nconst promise = loadStripe(process.env.REACT_APP_STRIPE_KEY);\n\nconst Payment = () => {\n  return (\n    <div className=\"container p-5 text-center\">\n    <h4>Compete your purchase</h4>\n      <Elements stripe={promise}>\n        <div className=\"col-md-8 offset-md-2\">\n         <StripeCheckout />\n        </div>\n      </Elements>\n    </div>\n  );\n};\nexport default Payment;\n","import React from \"react\";\nimport { Drawer, Button } from \"antd\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport Record from \"./../../images/record.jpeg\";\n\nconst imageStyle = {\n  width: \"100%\"\n};\nconst SideDrawer = () => {\n  const dispatch = useDispatch();\n  const { drawer, cart } = useSelector((state) => ({ ...state }));\n\n  return (\n    <Drawer\n      className=\"text-center\"\n      title={`Cart / ${cart.length} products`}\n      placement=\"right\"\n      // closeable= \"false\"\n      onClose={() => {\n        dispatch({\n          type: \"SET_VISIBLE\",\n          payload: false,\n        });\n      }}\n      visible={drawer}\n    >\n      {cart.map((p) => (\n        <div key={p._id} className=\"row\">\n          <div className=\"col\">\n            {p.images[0] ? (\n                <>  \n              <img src={p.images[0].url} style={imageStyle} alt=\"\" />\n              <p className=\"text-center bg-secondary text-light\">{p.title} x {p.count}</p> </>\n            \n ) : (<>\n              <img src={Record} style={imageStyle} alt=\"\" />\n              <p className=\"text-center bg-secondary text-light\">{p.title} x {p.count}</p>\n              </>\n            )}\n          </div>\n        </div>\n      ))}\n\n      <Link to='/cart' >\n          <button onClick={() =>\n          dispatch({\n              type: \"SET_VISIBLE\",\n              payload: false\n          })} \n          className=\"btn btn-raised btn-primary btn-block text-center\">\nGo To Cart\n          </button>\n      </Link>\n    </Drawer>\n  );\n};\n\nexport default SideDrawer;\n","import React, { useEffect } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport './../src/App.css'\n\n\nimport Login from \"./pages/auth/Login\";\nimport Register from \"./pages/auth/Register\";\nimport Home from \"./pages/Home\";\nimport Header from \"./components/nav/Header\";\nimport RegisterComplete from \"./pages/auth/RegisterComplete\";\nimport ForgotPassword from \"./pages/auth/ForgotPassword\";\nimport History from \"./pages/user/History\";\nimport UserRoute from \"./components/routes/UserRoute\";\nimport AdminRoute from \"./components/routes/AdminRoute\";\nimport Password from \"./pages/user/Password\";\nimport Wishlist from \"./pages/user/Wishlist\";\nimport AdminDashboard from \"./pages/admin/AdminDashboard\";\nimport CategoryCreate from \"./pages/admin/category/CategoryCreate\";\nimport CategoryUpdate from \"./pages/admin/category/CategoryUpdate\";\nimport SubCreate from \"./pages/admin/sub/SubCreate\";\nimport SubUpdate from \"./pages/admin/sub/SubUpdate\";\nimport ProductCreate from \"./pages/admin/product/ProductCreate\";\nimport AllProducts from \"./pages/admin/product/AllProducts\";\nimport ProductUpdate from \"./pages/admin/product/ProductUpdate\";\nimport Product from './pages/Product'\nimport CategoryHome from './pages/category/CategoryHome'\nimport SubHome from './pages/sub/SubHome'\nimport Shop from './pages/Shop'\nimport Cart from './pages/Cart'\nimport Checkout from './pages/Checkout'\nimport Payment from './pages/Payment'\nimport SideDrawer from './components/drawer/SideDrawer'\n\nimport { auth } from \"./firebase\";\nimport { useDispatch } from \"react-redux\";\nimport { currentUser } from \"./functions/auth\";\n\nconst App = () => {\n  const dispatch = useDispatch();\n\n  // to check firebase auth state\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(async (user) => {\n      if (user) {\n        const idTokenResult = await user.getIdTokenResult();\n        console.log(\"user\", user);\n\n        currentUser(idTokenResult.token)\n          .then((res) => {\n            dispatch({\n              type: \"LOGGED_IN_USER\",\n              payload: {\n                name: res.data.name,\n                email: res.data.email,\n                token: idTokenResult.token,\n                role: res.data.role,\n                _id: res.data._id,\n              },\n            });\n          })\n          .catch((err) => console.log(err));\n      }\n    });\n    // cleanup\n    return () => unsubscribe();\n  }, [dispatch]);\n\n  return (\n    <>\n      <Header />\n      <SideDrawer />\n      <ToastContainer />\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/login\" component={Login} />\n        <Route exact path=\"/register\" component={Register} />\n        <Route exact path=\"/register/complete\" component={RegisterComplete} />\n        <Route exact path=\"/forgot/password\" component={ForgotPassword} />\n        <UserRoute exact path=\"/user/history\" component={History} />\n        <UserRoute exact path=\"/user/password\" component={Password} />\n        <UserRoute exact path=\"/user/wishlist\" component={Wishlist} />\n        <AdminRoute exact path=\"/admin/dashboard\" component={AdminDashboard} />\n        {/* <AdminRoute exact path=\"/admin/dashboard\" component={AllProducts} /> */}\n\n        <AdminRoute exact path=\"/admin/category\" component={CategoryCreate} />\n        <AdminRoute\n          exact\n          path=\"/admin/category/:slug\"\n          component={CategoryUpdate}\n        />\n        {/* <AdminRoute exact path=\"/admin/sub\" component={SubCreate} /> */}\n        {/* <AdminRoute exact path=\"/admin/sub/:slug\" component={SubUpdate} /> */}\n        <AdminRoute exact path=\"/admin/product\" component={ProductCreate} />\n        <AdminRoute exact path=\"/admin/products\" component={AllProducts} />\n        <AdminRoute\n          exact\n          path=\"/admin/product/:slug\"\n          component={ProductUpdate}\n        />\n        <Route exact path='/product/:slug' component={Product} />\n        <Route exact path='/category/:slug' component={CategoryHome} />\n        {/* <Route exact path='/sub/:slug' component={SubHome} /> */}\n        <Route exact path='/shop' component={Shop} />\n        <Route exact path='/cart' component={Cart} />\n        <UserRoute exact path=\"/checkout\" component={Checkout} />\n        <UserRoute exact path=\"/payment\" component={Payment} />\n\n\n\n      </Switch>\n    </>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const searchReducer = (state = { text: \"\" }, action) => {\n  switch (action.type) {\n    case \"SEARCH_QUERY\": //\n      return { ...state, ...action.payload }; //payload\n\n    default:\n      return state;\n  }\n};\n","let initialState = []\n\n//load cart items from local storage\nif (typeof window !== 'undefined') {\n    if(localStorage.getItem('cart')) {\n        initialState = JSON.parse(localStorage.getItem('cart'))\n    } else {\n        initialState= [];\n    }\n}\n\nexport const cartReducer = (state = initialState, action) => {\n    switch (action.type) {\n      case \"ADD_TO_CART\": //\n        return action.payload; //payload\n  \n      default:\n        return state;\n    }\n  };","import {combineReducers} from 'redux';\nimport {userReducer} from './userReducer'\nimport {searchReducer} from './searchReducer'\nimport {cartReducer} from './cartReducer'\nimport {drawerReducer} from './drawerReducer'\n\nconst rootReducer = combineReducers({\n    user: userReducer,\n    search: searchReducer,\n    cart: cartReducer,\n    drawer: drawerReducer\n});\n\nexport default rootReducer;","export function userReducer(state = null, action) {\n    switch(action.type){\n        case 'LOGGED_IN_USER': //\n            return action.payload //payload\n        case 'LOGOUT':\n            return action.payload;\n\n            default :\n            return state;\n    }\n}","\n\nexport const drawerReducer = (state = false, action) => {\n    switch (action.type) {\n      case \"SET_VISIBLE\": //\n        return action.payload; //payload\n  \n      default:\n        return state;\n    }\n  };","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport \"./styles/index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"antd/dist/antd.css\";\nimport rootReducer from \"./reducers\";\n\n// store\nconst store = createStore(rootReducer, composeWithDevTools());\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}